- en: Datadogâ€™s $65M/year customer mystery solved
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Datadog æ¯å¹´ 6500 ä¸‡ç¾å…ƒå®¢æˆ·ä¹‹è°œè§£å¼€äº†
- en: 'Original Text: [https://newsletter.pragmaticengineer.com/p/datadogs-65myear-customer-mystery](https://newsletter.pragmaticengineer.com/p/datadogs-65myear-customer-mystery)'
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡é“¾æ¥ï¼š[https://newsletter.pragmaticengineer.com/p/datadogs-65myear-customer-mystery](https://newsletter.pragmaticengineer.com/p/datadogs-65myear-customer-mystery)
- en: '*ğŸ‘‹ Hi, this is [Gergely](https://twitter.com/gergelyorosz) with a bonus, free
    issue of the Pragmatic Engineer Newsletter. In every issue, I cover topics related
    to Big Tech and high-growth startups through the lens of engineering managers
    and senior engineers. In this issue, we cover one out of six topics from todayâ€™s
    subscriber-only [The Scoop piece](https://newsletter.pragmaticengineer.com/p/the-scoop-47).
    To get full issues twice a week, subscribe:*'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*ğŸ‘‹ å—¨ï¼Œæˆ‘æ˜¯ [Gergely](https://twitter.com/gergelyorosz)ï¼Œè¿™æ˜¯ã€ŠåŠ¡å®å·¥ç¨‹å¸ˆé€šè®¯ã€‹çš„å…è´¹é¢å¤–é—®é¢˜ã€‚åœ¨æ¯æœŸä¸­ï¼Œæˆ‘é€šè¿‡å·¥ç¨‹ç»ç†å’Œé«˜çº§å·¥ç¨‹å¸ˆçš„è§†è§’æ¶µç›–ä¸å¤§å‹ç§‘æŠ€å…¬å¸å’Œé«˜å¢é•¿åˆåˆ›å…¬å¸ç›¸å…³çš„ä¸»é¢˜ã€‚åœ¨æœ¬æœŸä¸­ï¼Œæˆ‘ä»¬ä»ä»Šå¤©çš„è®¢é˜…è€…ä¸“å±
    [The Scoop æ–‡ç« ](https://newsletter.pragmaticengineer.com/p/the-scoop-47) ä¸­æ¶µç›–äº†å…­ä¸ªä¸»é¢˜ä¸­çš„ä¸€ä¸ªã€‚è¦è·å–æ¯å‘¨ä¸¤æ¬¡çš„å®Œæ•´é—®é¢˜ï¼Œè¯·è®¢é˜…ï¼š*'
- en: 'Datadog is a leading observability tooling provider which went public in 2019,
    with a current market cap of $28B. The company made $1.67B revenue in 2022, circa
    $140M per month. On an earnings call a week ago, on 4 May, the CFO mentioned a
    â€œlarge upfront bill that did not recur,â€ saying:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: Datadog æ˜¯ä¸€å®¶é¢†å…ˆçš„å¯è§‚å¯Ÿæ€§å·¥å…·æä¾›å•†ï¼Œäº 2019 å¹´ä¸Šå¸‚ï¼Œå½“å‰å¸‚å€¼ä¸º 280 äº¿ç¾å…ƒã€‚è¯¥å…¬å¸åœ¨ 2022 å¹´å®ç°äº† 16.7 äº¿ç¾å…ƒçš„è¥æ”¶ï¼Œçº¦ä¸ºæ¯æœˆ
    1.4 äº¿ç¾å…ƒã€‚åœ¨ä¸€å‘¨å‰çš„è´¢æŠ¥ç”µè¯ä¼šè®®ä¸Šï¼Œå³ 5 æœˆ 4 æ—¥ï¼Œé¦–å¸­è´¢åŠ¡å®˜æåˆ°äº†â€œä¸€ç¬”å¤§é¢é¢„ä»˜è´¦å•ï¼Œæœªé‡å¤â€ï¼Œè¯´é“ï¼š
- en: â€œBillings were $511 million, up 15% year-over-year. We had a large upfront bill
    for a client in Q1 2022 that did not recur at the same level or timing in Q1 2023\.
    Pro forma for this client, billings growth was in the low 30s percent year-over-year.â€
  id: totrans-4
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œè´¦å•ä¸º 5.11 äº¿ç¾å…ƒï¼ŒåŒæ¯”å¢é•¿ 15%ã€‚æˆ‘ä»¬åœ¨ 2022 å¹´ç¬¬ä¸€å­£åº¦ä¸ºä¸€ä¸ªå®¢æˆ·æœ‰ä¸€ç¬”å¤§é¢é¢„ä»˜è´¦å•ï¼Œä½†åœ¨ 2023 å¹´ç¬¬ä¸€å­£åº¦ï¼Œè¿™ç§æ°´å¹³æˆ–æ—¶é—´ä¸Šçš„è´¦å•å¹¶æœªé‡å¤ã€‚å‰”é™¤è¿™ä¸ªå®¢æˆ·åï¼Œè´¦å•å¢é•¿ç‡ä¸ºä½
    30%ã€‚â€
- en: 'If youâ€™re like me, youâ€™d probably skim over this detail, as itâ€™s 15% here,
    30% there. However, analysts attend these calls whose bread and butter is crunching
    the numbers and figuring out what a company might be trying to hide. A JP Morgan
    stock analyst did just this, quickly crunching numbers and asking the question:'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ åƒæˆ‘ä¸€æ ·ï¼Œå¯èƒ½ä¼šå¿½ç•¥è¿™ä¸ªç»†èŠ‚ï¼Œå› ä¸ºè¿™é‡Œ 15%ï¼Œé‚£é‡Œ 30%ã€‚ç„¶è€Œï¼Œåˆ†æå¸ˆå‚åŠ è¿™äº›ç”µè¯ä¼šè®®ï¼Œä»–ä»¬çš„æ ¸å¿ƒå·¥ä½œæ˜¯åˆ†ææ•°æ®ï¼Œæ‰¾å‡ºå…¬å¸å¯èƒ½è¯•å›¾éšè—çš„ä¸œè¥¿ã€‚ä¸€ä½
    JP æ‘©æ ¹çš„è‚¡ç¥¨åˆ†æå¸ˆå°±æ˜¯è¿™æ ·åšçš„ï¼Œè¿…é€Ÿè®¡ç®—æ•°å­—å¹¶æå‡ºé—®é¢˜ï¼š
- en: â€œDavid, looking at the math on this large upfront bill that did not recur, it
    seems to be about $65 million, if I'm running that correctly. Can you possibly
    shed a little more light?â€œ
  id: totrans-6
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œDavidï¼Œçœ‹ç€è¿™ç¬”å¤§é¢é¢„ä»˜è´¦å•çš„æ•°å­¦ï¼Œè¿™ç¬”è´¦å•ä¼¼ä¹çº¦ä¸º 6500 ä¸‡ç¾å…ƒï¼Œå¦‚æœæˆ‘ç®—å¯¹äº†çš„è¯ã€‚ä½ èƒ½å¦å†å¤šè§£é‡Šä¸€ç‚¹ï¼Ÿâ€
- en: 'Datadogâ€™s CFO, David Obstler gave more details:'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: Datadog çš„é¦–å¸­è´¢åŠ¡å®˜ David Obstler ç»™å‡ºäº†æ›´å¤šç»†èŠ‚ï¼š
- en: â€œThat was a crypto company which continues to be a customer of ours. But that
    was an early optimizer. We had always talked about some of the industries that
    were most affected and optimized.â€œ
  id: totrans-8
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œé‚£æ˜¯ä¸€ä¸ªç»§ç»­æˆä¸ºæˆ‘ä»¬å®¢æˆ·çš„åŠ å¯†å…¬å¸ã€‚ä½†é‚£æ˜¯ä¸€ä¸ªæ—©æœŸçš„ä¼˜åŒ–å™¨ã€‚æˆ‘ä»¬ä¸€ç›´åœ¨è°ˆè®ºä¸€äº›å—å½±å“æœ€å¤§ä¸”è¢«ä¼˜åŒ–çš„è¡Œä¸šã€‚â€
- en: 'So, who is this mysterious crypto company? Investor Turner Novak [speculated](https://twitter.com/TurnerNovak/status/1654577231937544192?s=20)
    that itâ€™s Coinbase:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆï¼Œè¿™å®¶ç¥ç§˜çš„åŠ å¯†å…¬å¸æ˜¯è°ï¼ŸæŠ•èµ„è€… Turner Novak æ¨æµ‹æ˜¯ Coinbaseï¼š
- en: He added he doesnâ€™t know for certain that it is Coinbase, as other crypto companies
    have also raised silly amounts of money in the past several years.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: ä»–è¡¥å……è¯´ï¼Œä»–å¹¶ä¸ç¡®å®šè¿™æ˜¯ Coinbaseï¼Œå› ä¸ºè¿‡å»å‡ å¹´å…¶ä»–åŠ å¯†å…¬å¸ä¹Ÿç­¹é›†äº†å¾ˆå¤šèµ„é‡‘ã€‚
- en: 'So, did Coinbase spend $65M on Datadog in 2022? Online thereâ€™s no shortage
    of theories, or people pretending to be Coinbase employees, such as this anonymous
    commenter on Hacker News, [claiming](https://news.ycombinator.com/item?id=35866061)
    that the $65M was for a 3-year upfront payment (which information I could not
    verify). I wanted to find the truth, so I tracked down software engineers at the
    company. And I got my answer:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: é‚£ä¹ˆï¼ŒCoinbase åœ¨ 2022 å¹´æ˜¯å¦åœ¨ Datadog ä¸ŠèŠ±è´¹äº† 6500 ä¸‡ç¾å…ƒï¼Ÿåœ¨çº¿ä¸Šæœ‰å¾ˆå¤šç†è®ºï¼Œæˆ–è€…å‡è£…æ˜¯ Coinbase å‘˜å·¥çš„äººï¼Œæ¯”å¦‚è¿™ä½åŒ¿åè¯„è®ºè€…åœ¨
    Hacker News ä¸Šå£°ç§°ï¼Œè¿™ 6500 ä¸‡ç¾å…ƒæ˜¯ä¸ºäº† 3 å¹´çš„é¢„ä»˜æ¬¾ï¼ˆè¿™ä¸ªä¿¡æ¯æˆ‘æ— æ³•éªŒè¯ï¼‰ã€‚æˆ‘æƒ³æ‰¾åˆ°çœŸç›¸ï¼Œæ‰€ä»¥æˆ‘è”ç³»äº†å…¬å¸çš„è½¯ä»¶å·¥ç¨‹å¸ˆã€‚æˆ‘å¾—åˆ°äº†ç­”æ¡ˆï¼š
- en: '**Yes. Coinbase spent $65M with Datadog in 2021, and this was their due bill
    for that year.** I can confirm this, having talked with both current and former
    software engineers at Coinbase who shared details of what happened.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ˜¯çš„ã€‚Coinbase åœ¨ 2021 å¹´ä¸ Datadog èŠ±è´¹äº† 6500 ä¸‡ç¾å…ƒï¼Œè¿™æ˜¯ä»–ä»¬å½“å¹´çš„åº”ä»˜è´¦å•ã€‚** æˆ‘å¯ä»¥ç¡®è®¤è¿™ä¸€ç‚¹ï¼Œå› ä¸ºæˆ‘ä¸ Coinbase
    çš„ç°ä»»å’Œå‰ä»»è½¯ä»¶å·¥ç¨‹å¸ˆäº¤è°ˆè¿‡ï¼Œä»–ä»¬åˆ†äº«äº†å‘ç”Ÿçš„æƒ…å†µç»†èŠ‚ã€‚'
- en: 'Hereâ€™s how Datadogâ€™s CEO explained, on the earnings call on what happened:'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯ Datadog çš„é¦–å¸­æ‰§è¡Œå®˜åœ¨è´¢æŠ¥ç”µè¯ä¼šè®®ä¸Šè§£é‡Šå‘ç”Ÿäº†ä»€ä¹ˆï¼š
- en: â€œThis is one of those situations where this customer was in an industry that
    got pretty much decimated over the past year. And their own business was cut in
    three or four, in terms of the revenue. And when that's the case, we really work
    with customers to restructure their contracts with us. We want to be part of the
    solution for them, not part of the problem (...) We restructure their contract,
    so we keep them as a happy customer for many more years and do a deal that works
    for everyone with their business profile.â€
  id: totrans-14
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œè¿™æ˜¯é‚£ç§åœ¨è¿‡å»ä¸€å¹´ä¸­å‡ ä¹è¢«æ‘§æ¯çš„è¡Œä¸šçš„æƒ…å†µä¹‹ä¸€ã€‚ä»–ä»¬è‡ªå·±çš„ä¸šåŠ¡æ”¶å…¥å‡å°‘äº†ä¸‰åˆ†ä¹‹ä¸€æˆ–å››åˆ†ä¹‹ä¸€ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çœŸçš„ä¼šä¸å®¢æˆ·åˆä½œé‡æ–°è°ƒæ•´ä»–ä»¬ä¸æˆ‘ä»¬çš„åˆåŒã€‚æˆ‘ä»¬å¸Œæœ›æˆä¸ºä»–ä»¬é—®é¢˜çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯é—®é¢˜çš„ä¸€éƒ¨åˆ†(...)
    æˆ‘ä»¬é‡æ–°è°ƒæ•´ä»–ä»¬çš„åˆåŒï¼Œä»¥ä¾¿è®©ä»–ä»¬æˆä¸ºæ›´å¤šå¹´çš„å¿«ä¹å®¢æˆ·ï¼Œå¹¶ä¸ä»–ä»¬çš„ä¸šåŠ¡æ¦‚å†µè¾¾æˆå¯¹æ¯ä¸ªäººéƒ½æœ‰åˆ©çš„äº¤æ˜“ã€‚â€
- en: And hereâ€™s what actually happened, as I understand from talking with engineers
    at Coinbase.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™æ˜¯æˆ‘ä»ä¸Coinbaseå·¥ç¨‹å¸ˆäº¤è°ˆä¸­äº†è§£åˆ°çš„å®é™…æƒ…å†µã€‚
- en: Coinbase had an incredible 2021 and did not have to care about costs. The company
    went public in June that year, and was valued at an eye-popping $86B. In comparison,
    nearly two years later the company is valued around $14B, a 75% decline.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: Coinbaseåœ¨2021å¹´è¡¨ç°å‡ºè‰²ï¼Œä¸å¿…æ‹…å¿ƒæˆæœ¬ã€‚è¯¥å…¬å¸äºå½“å¹´6æœˆä¸Šå¸‚ï¼Œå¸‚å€¼é«˜è¾¾æƒŠäººçš„860äº¿ç¾å…ƒã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå°†è¿‘ä¸¤å¹´åï¼Œè¯¥å…¬å¸çš„ä¼°å€¼çº¦ä¸º140äº¿ç¾å…ƒï¼Œä¸‹é™äº†75%ã€‚
- en: 'During the boom, trading volumes were surging, beating record after record,
    and Coinbase could barely keep up. Hereâ€™s how Coinbase CEO Brian Amstrong summarized
    it:'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç¹è£æ—¶æœŸï¼Œäº¤æ˜“é‡æ¿€å¢ï¼Œä¸€æ¬¡åˆä¸€æ¬¡æ‰“ç ´è®°å½•ï¼ŒCoinbaseå‡ ä¹è·Ÿä¸ä¸Šã€‚ä»¥ä¸‹æ˜¯Coinbase CEO Brian Amstrongå¯¹æ­¤çš„æ€»ç»“ï¼š
- en: â€œSo, obviously 2021 was just an incredible year for Coinbase, the kind of thing
    that you see very rarely in your lifetime, in a business career (...) We hit an
    all time high in our monthly transacting users of 11.4 million, which is 4x year-over-year,
    400% pretty incredible.â€
  id: totrans-18
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œæ˜¾ç„¶ï¼Œ2021å¹´å¯¹Coinbaseæ¥è¯´æ˜¯ä¸€ä¸ªä¸å¯æ€è®®çš„ä¸€å¹´ï¼Œè¿™ç§äº‹æƒ…åœ¨ä½ çš„ä¸€ç”Ÿä¸­å¾ˆå°‘è§ï¼Œä¹Ÿå¾ˆå°‘åœ¨å•†ä¸šç”Ÿæ¶¯ä¸­è§åˆ°(...) æˆ‘ä»¬çš„æœˆæ´»è·ƒç”¨æˆ·æ•°è¾¾åˆ°äº†å†å²æœ€é«˜çš„1140ä¸‡ï¼ŒåŒæ¯”å¢é•¿äº†4å€ï¼Œå¢é•¿äº†400%ï¼Œéå¸¸ä¸å¯æ€è®®ã€‚â€
- en: Following the IPO in summer 2021, nobody at the company cared about infra costs;
    the only focus was growth. The company racked up huge bills for the likes of AWS,
    Snowflake, and also Datadog. And so, the $65M bill was for Datadog, for 2021\.
    Coinbase settled the bill in Q1 2022.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨2021å¹´å¤å­£ä¸Šå¸‚åï¼Œå…¬å¸æ²¡æœ‰äººå…³å¿ƒåŸºç¡€è®¾æ–½æˆæœ¬ï¼›å”¯ä¸€çš„å…³æ³¨ç‚¹æ˜¯å¢é•¿ã€‚è¯¥å…¬å¸ä¸ºAWSã€Snowflakeå’ŒDatadogç­‰å…¬å¸äº§ç”Ÿäº†å·¨é¢è´¦å•ã€‚å› æ­¤ï¼Œ2021å¹´Datadogçš„è´¦å•ä¸º6500ä¸‡ç¾å…ƒã€‚Coinbaseåœ¨2022å¹´ç¬¬ä¸€å­£åº¦ç»“æ¸…äº†è´¦å•ã€‚
- en: '**In early 2022 Coinbase suddenly needed to cut back infra spending.** The
    crypto industry hit a sudden chill, affecting Coinbaseâ€™s business. As revenue
    dried up, the company turned its attention to reducing its overly high costs.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '**åœ¨2022å¹´åˆï¼ŒCoinbaseçªç„¶éœ€è¦å‰Šå‡åŸºç¡€è®¾æ–½æ”¯å‡ºã€‚** åŠ å¯†è¡Œä¸šçªç„¶é™·å…¥å¯’å†·ï¼Œå½±å“äº†Coinbaseçš„ä¸šåŠ¡ã€‚éšç€æ”¶å…¥æ¯ç«­ï¼Œå…¬å¸å¼€å§‹å…³æ³¨å‡å°‘è¿‡é«˜çš„æˆæœ¬ã€‚'
- en: 'For observability, Coinbase spun up a dedicated team with the goal of moving
    off of Datadog, and onto a Grafana/Prometheus/Clickhouse stack. A quick summary
    of these technologies:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†å®ç°å¯è§‚å¯Ÿæ€§ï¼ŒCoinbaseæˆç«‹äº†ä¸€ä¸ªä¸“é—¨å›¢é˜Ÿï¼Œæ—¨åœ¨æ‘†è„±Datadogï¼Œè½¬è€Œä½¿ç”¨Grafana/Prometheus/Clickhouseå †æ ˆã€‚è¿™äº›æŠ€æœ¯çš„ç®€è¦æ¦‚è¿°ï¼š
- en: '**[Prometheus](https://prometheus.io/): a time series database.** A very popular
    open-source solution for systems and services monitoring. Prometheus collects
    metrics from configured targets (services) at given intervals. It evaluates rules
    and can trigger alerts. Itâ€™s mostly written in Go, with some Java, Python and
    Ruby parts. Prometheus stores time series in-memory and on storage (HDD or SSD),
    using an efficient and custom format, and supports [sharding](https://en.wikipedia.org/wiki/Shard_(database_architecture))
    and [federation](https://en.wikipedia.org/wiki/Federated_database_system).'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '**[Prometheus](https://prometheus.io/)ï¼šä¸€ä¸ªæ—¶é—´åºåˆ—æ•°æ®åº“ã€‚** è¿™æ˜¯ä¸€ä¸ªéå¸¸å—æ¬¢è¿çš„å¼€æºè§£å†³æ–¹æ¡ˆï¼Œç”¨äºç³»ç»Ÿå’ŒæœåŠ¡ç›‘æ§ã€‚Prometheusä¼šåœ¨ç»™å®šçš„æ—¶é—´é—´éš”å†…ä»é…ç½®çš„ç›®æ ‡ï¼ˆæœåŠ¡ï¼‰æ”¶é›†æŒ‡æ ‡ã€‚å®ƒä¼šè¯„ä¼°è§„åˆ™å¹¶è§¦å‘è­¦æŠ¥ã€‚å®ƒä¸»è¦ä½¿ç”¨Goç¼–å†™ï¼Œè¿˜æœ‰ä¸€äº›Javaã€Pythonå’ŒRubyéƒ¨åˆ†ã€‚Prometheusä¼šå°†æ—¶é—´åºåˆ—å­˜å‚¨åœ¨å†…å­˜å’Œå­˜å‚¨ï¼ˆHDDæˆ–SSDï¼‰ä¸­ï¼Œä½¿ç”¨é«˜æ•ˆä¸”è‡ªå®šä¹‰çš„æ ¼å¼ï¼Œå¹¶æ”¯æŒ[åˆ†ç‰‡](https://en.wikipedia.org/wiki/Shard_(database_architecture))å’Œ[è”é‚¦](https://en.wikipedia.org/wiki/Federated_database_system)ã€‚'
- en: Prometheus [is part](https://www.cncf.io/projects/prometheus/) of the Cloud
    Native Foundation, membership of which indicates that itâ€™s safe to build on top
    of Prometheus, as itâ€™s actively maintained and will continue to be.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: Prometheus[æ˜¯](https://www.cncf.io/projects/prometheus/)äº‘åŸç”ŸåŸºé‡‘ä¼šçš„ä¸€éƒ¨åˆ†ï¼ŒåŠ å…¥è¯¥åŸºé‡‘ä¼šè¡¨æ˜å¯ä»¥æ”¾å¿ƒæ„å»ºåœ¨Prometheusä¹‹ä¸Šï¼Œå› ä¸ºå®ƒæ­£åœ¨ç§¯æç»´æŠ¤å¹¶å°†ç»§ç»­ç»´æŠ¤ã€‚
- en: 'Prometheus can be self-hosted, but several cloud providers also offer managed
    Prometheus services: both Google Cloud and AWS have this service in production,
    while Azure has it in preview.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: Prometheuså¯ä»¥è‡ªè¡Œæ‰˜ç®¡ï¼Œä½†å‡ å®¶äº‘æœåŠ¡æä¾›å•†ä¹Ÿæä¾›æ‰˜ç®¡çš„PrometheusæœåŠ¡ï¼šGoogle Cloudå’ŒAWSéƒ½åœ¨ç”Ÿäº§ä¸­æä¾›æ­¤æœåŠ¡ï¼Œè€ŒAzureåˆ™åœ¨é¢„è§ˆä¸­æä¾›ã€‚
- en: '**[Grafana](https://grafana.com/): the frontend for visualizing metrics.**
    Grafana is a popular source analytics and monitoring visualization solution. If
    you need to display or dive into metrics or alerts, itâ€™s the go-to tool, and widely
    used across tech companies. When I was at Uber, Grafana powered many of our graphs.
    Hereâ€™s an example of Grafana dashboards you can [try out](https://play.grafana.org/d/000000012/grafana-play-home?orgId=1):'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '**[Grafana](https://grafana.com/)ï¼šå¯è§†åŒ–æŒ‡æ ‡çš„å‰ç«¯ã€‚** Grafanaæ˜¯ä¸€ç§æµè¡Œçš„æºåˆ†æå’Œç›‘æ§å¯è§†åŒ–è§£å†³æ–¹æ¡ˆã€‚å¦‚æœæ‚¨éœ€è¦æ˜¾ç¤ºæˆ–æ·±å…¥äº†è§£æŒ‡æ ‡æˆ–è­¦æŠ¥ï¼Œè¿™æ˜¯é¦–é€‰å·¥å…·ï¼Œå¹¶ä¸”åœ¨æŠ€æœ¯å…¬å¸ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚å½“æˆ‘åœ¨Uberæ—¶ï¼ŒGrafanaæ”¯æŒæˆ‘ä»¬è®¸å¤šçš„å›¾è¡¨ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªæ‚¨å¯ä»¥[å°è¯•çš„Grafanaä»ªè¡¨æ¿](https://play.grafana.org/d/000000012/grafana-play-home?orgId=1)çš„ç¤ºä¾‹ï¼š'
- en: '**[Clickhouse](https://clickhouse.com/)**: log management. A fast and open-source
    column-oriented database management system, which is a popular choice for log
    management. Clickhouse is written predominantly in C++, and is widely used across
    the industry. For example, Cloudflare uses Clickhouse to store all its DNS and
    HTTP logs â€“ which is more than 10M rows per second! â€“ and Uber uses Clickhouse
    as its central logging platform.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '**[Clickhouse](https://clickhouse.com/)**ï¼šæ—¥å¿—ç®¡ç†ã€‚ä¸€ç§å¿«é€Ÿä¸”å¼€æºçš„é¢å‘åˆ—çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ˜¯æ—¥å¿—ç®¡ç†çš„çƒ­é—¨é€‰æ‹©ã€‚Clickhouseä¸»è¦ç”¨C++ç¼–å†™ï¼Œå¹¶åœ¨æ•´ä¸ªè¡Œä¸šå¹¿æ³›ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼ŒCloudflareä½¿ç”¨Clickhouseå­˜å‚¨å…¶æ‰€æœ‰DNSå’ŒHTTPæ—¥å¿—
    - æ¯ç§’è¶…è¿‡10Mè¡Œï¼ - è€ŒUberå°†Clickhouseç”¨ä½œå…¶ä¸­å¤®æ—¥å¿—å¹³å°ã€‚'
- en: Coinbase spun up its in-house approach without the main goal of saving costs,
    but to have full control and ownership of observability. Observability and reliability
    is a major differentiator for Coinbase, as it gives a competitive advantage over
    rivals.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: Coinbaseå¯åŠ¨äº†å…¶å†…éƒ¨æ–¹æ³•ï¼Œä¸æ˜¯ä¸ºäº†èŠ‚çœæˆæœ¬ï¼Œè€Œæ˜¯ä¸ºäº†å®Œå…¨æ§åˆ¶å’Œæ‹¥æœ‰å¯è§‚å¯Ÿæ€§ã€‚å¯è§‚å¯Ÿæ€§å’Œå¯é æ€§æ˜¯Coinbaseçš„ä¸»è¦å·®å¼‚åŒ–å› ç´ ï¼Œå› ä¸ºå®ƒä¸ºå…¬å¸å¸¦æ¥äº†ä¸ç«äº‰å¯¹æ‰‹çš„ç«äº‰ä¼˜åŠ¿ã€‚
- en: However, with the crypto market cooling, costs became a major focus, and it
    was clear the in-house Grafana/Prometheus solution was much cheaper. The Coinbase
    team had been double-writing the new stack for months, confirming everything worked
    well, and ironing out any issues.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œéšç€åŠ å¯†å¸‚åœºé™æ¸©ï¼Œæˆæœ¬æˆä¸ºä¸»è¦å…³æ³¨ç„¦ç‚¹ï¼Œå¾ˆæ˜æ˜¾å†…éƒ¨çš„Grafana/Prometheusè§£å†³æ–¹æ¡ˆè¦ä¾¿å®œå¾—å¤šã€‚Coinbaseå›¢é˜Ÿå·²ç»åŒå†™äº†æ–°å †æ ˆæ•°æœˆï¼Œç¡®è®¤ä¸€åˆ‡è¿ä½œè‰¯å¥½ï¼Œå¹¶è§£å†³ä»»ä½•é—®é¢˜ã€‚
- en: '*We cover approaches like double-writing in the issue [Migrations done well](https://newsletter.pragmaticengineer.com/p/migrations).*'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: '*æˆ‘ä»¬åœ¨é—®é¢˜[Migrations done well](https://newsletter.pragmaticengineer.com/p/migrations)ä¸­æ¶µç›–äº†åŒå†™ç­‰æ–¹æ³•ã€‚*'
- en: So Coinbase was ready to pull the plug on Datadog, but Datadog saved its customer
    relationship at the last minute by making Coinbase a very appealing deal it could
    not refuse. In future, the bill for Datadog would be nowhere near the $65M of
    2021\. As Brian Amstrong said of the crypto market during 2021, a $65M bill is
    the kind of thing you see very rarely in a business career.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼ŒCoinbaseå‡†å¤‡æ”¾å¼ƒDatadogï¼Œä½†Datadogåœ¨æœ€åä¸€åˆ»é€šè¿‡æå‡ºä¸€ä¸ªéå¸¸å¸å¼•äººçš„äº¤æ˜“æŒ½æ•‘äº†ä¸Coinbaseçš„å®¢æˆ·å…³ç³»ã€‚æœªæ¥ï¼ŒDatadogçš„è´¦å•ä¸ä¼šæ¥è¿‘2021å¹´çš„$65Mã€‚æ­£å¦‚Brian
    Amstrongåœ¨2021å¹´å¯¹åŠ å¯†å¸‚åœºæ‰€è¯´ï¼Œ$65Mçš„è´¦å•åœ¨å•†ä¸šç”Ÿæ¶¯ä¸­æ˜¯éå¸¸ç½•è§çš„äº‹æƒ…ã€‚
- en: I asked an engineer at Coinbase who used the in-house stack and Datadog how
    they felt about the decision to stay on Datadog. They said it was ultimately the
    right decision, considering the reasonable costs, and the superior Datadog development
    experience.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘è¯¢é—®äº†åœ¨Coinbaseä½¿ç”¨å†…éƒ¨å †æ ˆå’ŒDatadogçš„å·¥ç¨‹å¸ˆå¯¹äºå†³å®šç»§ç»­ä½¿ç”¨Datadogçš„çœ‹æ³•ã€‚ä»–ä»¬è¡¨ç¤ºï¼Œè€ƒè™‘åˆ°åˆç†çš„æˆæœ¬å’Œä¼˜è¶Šçš„Datadogå¼€å‘ä½“éªŒï¼Œè¿™æœ€ç»ˆæ˜¯æ­£ç¡®çš„å†³å®šã€‚
- en: Coinbase could *eventually* have engineered a similar experience in-house. However,
    to provide a similarly seamless developer experience, would have likely taken
    tens of engineering years.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: Coinbaseæœ€ç»ˆå¯èƒ½ä¼šè‡ªè¡Œè®¾è®¡å‡ºç±»ä¼¼çš„ä½“éªŒã€‚ç„¶è€Œï¼Œè¦æä¾›ç±»ä¼¼æ— ç¼çš„å¼€å‘è€…ä½“éªŒï¼Œå¯èƒ½éœ€è¦æ•°åå¹´çš„å·¥ç¨‹æ—¶é—´ã€‚
- en: '**â€œExpensiveâ€ in observability tooling is relative.** Letâ€™s assume that today
    Coinbase â€œonlyâ€ spends, say, $10M per year on Datadog. Is this too much? Looking
    at the headline number, itâ€™s tempting to think so.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**â€œæ˜‚è´µâ€åœ¨å¯è§‚å¯Ÿæ€§å·¥å…·ä¸­æ˜¯ç›¸å¯¹çš„ã€‚** è®©æˆ‘ä»¬å‡è®¾ä»Šå¤©Coinbaseâ€œä»…â€æ¯å¹´åœ¨Datadogä¸ŠèŠ±è´¹äº†ï¼Œæ¯”å¦‚è¯´ï¼Œ$10Mã€‚è¿™æ˜¯å¦å¤ªå¤šäº†ï¼Ÿçœ‹çœ‹å¤´æ¡æ•°å­—ï¼Œå¾ˆå®¹æ˜“è¿™æ ·è®¤ä¸ºã€‚'
- en: However, letâ€™s look a level deeper. A platform like Datadog helps prevent outages,
    detects them instantly, and mitigates them faster. In 2022, Coinbase had 17 outages,
    totalling about 12 hours of downtime. The companyâ€™s daily average revenue is around
    $9M/day, based on their 2022 earnings.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: ç„¶è€Œï¼Œè®©æˆ‘ä»¬æ·±å…¥ä¸€å±‚ã€‚åƒDatadogè¿™æ ·çš„å¹³å°æœ‰åŠ©äºé¢„é˜²æ•…éšœï¼Œç«‹å³æ£€æµ‹åˆ°æ•…éšœå¹¶æ›´å¿«åœ°å‡è½»æ•…éšœã€‚åœ¨2022å¹´ï¼ŒCoinbaseå…±å‘ç”Ÿäº†17æ¬¡æ•…éšœï¼Œæ€»è®¡çº¦12å°æ—¶çš„åœæœºæ—¶é—´ã€‚è¯¥å…¬å¸çš„æ—¥å‡æ”¶å…¥çº¦ä¸ºæ¯å¤©$9Mï¼ŒåŸºäºä»–ä»¬2022å¹´çš„æ”¶å…¥ã€‚
- en: 'Assume that Datadog cuts the number of outages by half, by preventing them
    with early monitoring. That would mean that without Datadog, weâ€™d look at 24 hoursâ€™
    worth of downtime, not 12\. Letâ€™s also assume that using Datadog results in mitigating
    outages 50% faster than without - thanks to being able to connect health metrics
    with logs, debug faster, pinpoint the root cause and mitigate faster. In that
    case, without Datadog, we could be looking at 36 hours worth of total downtime,
    versus the 12 hours with Datadog. To put it in numbers: the company would make
    around $9M in revenue it would otherwise lose, Now that $10M/year fee practically
    pays for itself!'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: å‡è®¾Datadogé€šè¿‡æ—©æœŸç›‘æ§é˜²æ­¢æ•…éšœï¼Œå°†æ•…éšœæ•°é‡å‡åŠã€‚è¿™æ„å‘³ç€å¦‚æœæ²¡æœ‰Datadogï¼Œæˆ‘ä»¬å°†é¢ä¸´24å°æ—¶çš„åœæœºæ—¶é—´ï¼Œè€Œä¸æ˜¯12å°æ—¶ã€‚è®©æˆ‘ä»¬è¿˜å‡è®¾ä½¿ç”¨Datadogæ¯”æ²¡æœ‰Datadogæ—¶èƒ½å¤Ÿæ›´å¿«åœ°å‡è½»æ•…éšœ
    - ç”±äºèƒ½å¤Ÿå°†å¥åº·æŒ‡æ ‡ä¸æ—¥å¿—è¿æ¥èµ·æ¥ï¼Œæ›´å¿«åœ°è¿›è¡Œè°ƒè¯•ï¼Œå¿«é€Ÿå®šä½æ ¹æœ¬åŸå› å¹¶æ›´å¿«åœ°å‡è½»ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰Datadogï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé¢ä¸´36å°æ—¶çš„æ€»åœæœºæ—¶é—´ï¼Œè€Œä¸æ˜¯æœ‰Datadogæ—¶çš„12å°æ—¶ã€‚ç”¨æ•°å­—æ¥è¯´ï¼šå…¬å¸å°†è·å¾—å¤§çº¦900ä¸‡ç¾å…ƒçš„æ”¶å…¥ï¼Œå¦åˆ™å°†ä¼šæŸå¤±ï¼Œç°åœ¨è¿™1000ä¸‡ç¾å…ƒ/å¹´çš„è´¹ç”¨å®é™…ä¸Šæ˜¯è‡ªç»™è‡ªè¶³çš„ï¼
- en: '**What can we learn from Coinbaseâ€™s cost reduction exercise?** Vendors are
    tight-lipped about their customers reducing spend, and it is a lucky coincidence
    that Datadog gave enough hints to find out who their big â€œearly optimizerâ€ customer
    was, and find out more details. But is the story of Coinbase a one-off?'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '**æˆ‘ä»¬å¯ä»¥ä»Coinbaseçš„æˆæœ¬å‰Šå‡è¡ŒåŠ¨ä¸­å­¦åˆ°ä»€ä¹ˆï¼Ÿ** ä¾›åº”å•†ä»¬å¯¹äºå®¢æˆ·å‡å°‘æ”¯å‡ºä¿æŒç¼„é»˜ï¼ŒDatadogå¶ç„¶é€éœ²äº†è¶³å¤Ÿçš„çº¿ç´¢ï¼Œæ‰¾å‡ºäº†ä»–ä»¬çš„å¤§å‹â€œæ—©æœŸä¼˜åŒ–â€å®¢æˆ·æ˜¯è°ï¼Œå¹¶äº†è§£æ›´å¤šç»†èŠ‚ã€‚ä½†Coinbaseçš„æ•…äº‹æ˜¯ä¸ªä¾‹å—ï¼Ÿ'
- en: Iâ€™m not sure that it is. Three months ago, I covered the trend that [Tech companies
    are aggressively cutting back on vendor spend](https://newsletter.pragmaticengineer.com/p/vendor-spend-cuts)
    - and two months later, The Wall Street Journal also [reported](https://www.wsj.com/articles/corporate-technology-under-new-scrutiny-amid-recession-fears-a69c6583)
    on the same topic. Coinbase, to me, seems to have been early to the cost optimizing
    trend. However, look closely at the [responses](https://newsletter.pragmaticengineer.com/p/vendor-spend-cuts)
    I gathered, and â€œAWSâ€ and â€œDatadogâ€ are the two most mentioned vendors as targets
    for cost savings. This is simply because infra and observability costs tend to
    be the highest and AWS is the leader for cloud infra, and Datadog the leader for
    observability.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä¸ç¡®å®šæ˜¯è¿™æ ·ã€‚ä¸‰ä¸ªæœˆå‰ï¼Œæˆ‘æŠ¥é“äº†[ç§‘æŠ€å…¬å¸æ­£åœ¨ç§¯æå‰Šå‡ä¾›åº”å•†æ”¯å‡º](https://newsletter.pragmaticengineer.com/p/vendor-spend-cuts)çš„è¶‹åŠ¿
    - ä¸¤ä¸ªæœˆåï¼Œåå°”è¡—æ—¥æŠ¥ä¹Ÿ[æŠ¥é“](https://www.wsj.com/articles/corporate-technology-under-new-scrutiny-amid-recession-fears-a69c6583)äº†åŒæ ·çš„ä¸»é¢˜ã€‚å¯¹æˆ‘æ¥è¯´ï¼ŒCoinbaseä¼¼ä¹æ˜¯æ—©æœŸå‚ä¸æˆæœ¬ä¼˜åŒ–è¶‹åŠ¿çš„å…¬å¸ã€‚ç„¶è€Œï¼Œä»”ç»†çœ‹çœ‹æˆ‘æ”¶é›†çš„[å›åº”](https://newsletter.pragmaticengineer.com/p/vendor-spend-cuts)ï¼Œâ€œAWSâ€å’Œâ€œDatadogâ€æ˜¯è¢«æåŠæœ€å¤šçš„ä¸¤å®¶ä¾›åº”å•†ï¼Œä½œä¸ºèŠ‚çº¦æˆæœ¬çš„ç›®æ ‡ã€‚è¿™ä»…ä»…æ˜¯å› ä¸ºåŸºç¡€è®¾æ–½å’Œå¯è§‚å¯Ÿæ€§æˆæœ¬å¾€å¾€æ˜¯æœ€é«˜çš„ï¼ŒAWSæ˜¯äº‘åŸºç¡€è®¾æ–½çš„é¢†å¯¼è€…ï¼ŒDatadogæ˜¯å¯è§‚å¯Ÿæ€§çš„é¢†å¯¼è€…ã€‚
- en: 'Datadog CEO Olivier Pomel confirmed that this type of optimization is happening
    across all of their customers, saying:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: Datadogé¦–å¸­æ‰§è¡Œå®˜Olivier Pomelç¡®è®¤ï¼Œè¿™ç§ä¼˜åŒ–æ­£åœ¨å‘ç”Ÿåœ¨ä»–ä»¬æ‰€æœ‰å®¢æˆ·èº«ä¸Šï¼Œä»–è¯´ï¼š
- en: â€œWhen we look at our data, when we look at what we hear from the hyperscalers
    also, we also listen carefully to their commentary on what they foresee in the
    near future, we don't see anything that gives us confidence that we can call an
    end to optimization in the next quarter or the quarter after that. So as far as
    our guidance goes and our plan for the year, we assume that this is going to continue
    at a similar level for the rest of the year.â€
  id: totrans-39
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: â€œå½“æˆ‘ä»¬æŸ¥çœ‹æˆ‘ä»¬çš„æ•°æ®ï¼Œå½“æˆ‘ä»¬å¬å–è¶…å¤§è§„æ¨¡è¿ç®—å•†çš„æ„è§æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿä»”ç»†å€¾å¬ä»–ä»¬å¯¹æœªæ¥çš„é¢„æµ‹ï¼Œæˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°ä»»ä½•è®©æˆ‘ä»¬ç¡®ä¿¡æˆ‘ä»¬å¯ä»¥åœ¨ä¸‹ä¸ªå­£åº¦æˆ–ä¹‹åç»“æŸä¼˜åŒ–çš„è¿¹è±¡ã€‚å› æ­¤ï¼Œå°±æˆ‘ä»¬çš„æŒ‡å¯¼å’Œä»Šå¹´çš„è®¡åˆ’è€Œè¨€ï¼Œæˆ‘ä»¬å‡è®¾è¿™ç§æƒ…å†µå°†åœ¨ä»Šå¹´ä½™ä¸‹çš„æ—¶é—´å†…ä¿æŒåœ¨ç±»ä¼¼æ°´å¹³ã€‚â€
- en: I have since confirmed several large companies with thousands of engineers building
    their own Grafana/Prometheus stack, planning to migrate off of their current observability
    vendor and operate the observability stack themselves. But why is this?
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘å·²ç»ç¡®è®¤äº†å‡ å®¶æ‹¥æœ‰æ•°åƒåå·¥ç¨‹å¸ˆæ„å»ºè‡ªå·±çš„Grafana/Prometheuså †æ ˆçš„å¤§å‹å…¬å¸ï¼Œè®¡åˆ’è¿ç§»å‡ºå½“å‰çš„å¯è§‚å¯Ÿæ€§ä¾›åº”å•†å¹¶è‡ªè¡Œè¿è¥å¯è§‚å¯Ÿæ€§å †æ ˆã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆä¼šè¿™æ ·å‘¢ï¼Ÿ
- en: '**Above $2-5M/year annual spend is where bringing a vendor in-house tends to
    come up.** And this is because it is around this number where the cost of hiring
    a whole team to do what a vendor is doing can *theoretically* make sense.'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ¯å¹´è¶…è¿‡2-5ç™¾ä¸‡ç¾å…ƒçš„å¹´åº¦æ”¯å‡ºæ˜¯å¼•å…¥ä¾›åº”å•†å†…éƒ¨åŒ–çš„æ—¶æœºã€‚** è¿™æ˜¯å› ä¸ºåœ¨è¿™ä¸ªæ•°å­—å·¦å³ï¼Œé›‡ä½£ä¸€ä¸ªå›¢é˜Ÿæ¥åšä¾›åº”å•†æ­£åœ¨åšçš„äº‹æƒ…çš„æˆæœ¬åœ¨*ç†è®ºä¸Š*æ˜¯æœ‰æ„ä¹‰çš„ã€‚'
- en: As a rule of thumb, you can get infra costs much lower than what vendors charge.
    This is because both the vendor, and you are probably using the same Cloud infrastructure
    provider, which is usually AWS, GCP or Azure. However, you would need to hire
    and staff a dedicated engineering team to build and run that infra.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€èˆ¬æ¥è¯´ï¼Œä½ å¯ä»¥å°†åŸºç¡€è®¾æ–½æˆæœ¬é™ä½åˆ°ä¾›åº”å•†æ”¶è´¹çš„æ°´å¹³ä»¥ä¸‹ã€‚è¿™æ˜¯å› ä¸ºä¾›åº”å•†å’Œä½ å¯èƒ½éƒ½åœ¨ä½¿ç”¨ç›¸åŒçš„äº‘åŸºç¡€è®¾æ–½æä¾›å•†ï¼Œé€šå¸¸æ˜¯AWSã€GCPæˆ–Azureã€‚ç„¶è€Œï¼Œä½ éœ€è¦é›‡ä½£å’Œé…å¤‡ä¸€ä¸ªä¸“é—¨çš„å·¥ç¨‹å›¢é˜Ÿæ¥æ„å»ºå’Œè¿è¡Œè¯¥åŸºç¡€è®¾æ–½ã€‚
- en: 'So, from a cost perspective, this is the math problem you need to solve. At
    what point does is this equation become true:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: å› æ­¤ï¼Œä»æˆæœ¬çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯ä½ éœ€è¦è§£å†³çš„æ•°å­¦é—®é¢˜ã€‚åœ¨ä»€ä¹ˆæ—¶å€™è¿™ä¸ªç­‰å¼æˆç«‹ï¼š
- en: $infra_cost + $platform_team_cost < $current_vendor_costs
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: $åŸºç¡€è®¾æ–½æˆæœ¬ + $å¹³å°å›¢é˜Ÿæˆæœ¬ < $å½“å‰ä¾›åº”å•†æˆæœ¬
- en: In this question, $platform_team_costs will be above $1M, and sometimes above
    $2M. This is because you need to have a team of 4-5 engineers, plus a manager,
    and their average total compensation will be somewhere between $150-400K/year,
    depending on your cost basis.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œ$å¹³å°å›¢é˜Ÿæˆæœ¬å°†è¶…è¿‡100ä¸‡ç¾å…ƒï¼Œæœ‰æ—¶ç”šè‡³è¶…è¿‡200ä¸‡ç¾å…ƒã€‚è¿™æ˜¯å› ä¸ºä½ éœ€è¦ä¸€ä¸ªç”±4-5åå·¥ç¨‹å¸ˆå’Œä¸€ä¸ªç»ç†ç»„æˆçš„å›¢é˜Ÿï¼Œä»–ä»¬çš„å¹³å‡æ€»è–ªé…¬å°†åœ¨æ¯å¹´15-40ä¸‡ç¾å…ƒä¹‹é—´ï¼Œå–å†³äºä½ çš„æˆæœ¬åŸºç¡€ã€‚
- en: 'So when you have a bill that is above $2-3M/year, it can start to look tempting
    to build, rather than buy. The economics of this decision start to get down to
    how high of a margin is the vendor charging on top of raw infra? The curious question
    with Coinbase is: did they consider building, when talking about such a huge projected
    cost that could justify having a team?'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: å½“ä½ çš„è´¦å•è¶…è¿‡æ¯å¹´$2-3Mæ—¶ï¼Œå¼€å§‹è€ƒè™‘è‡ªå»ºè€Œéè´­ä¹°å¯èƒ½ä¼šå˜å¾—è¯±äººã€‚è¿™ä¸ªå†³å®šçš„ç»æµå­¦é—®é¢˜åœ¨äºä¾›åº”å•†åœ¨åŸå§‹åŸºç¡€è®¾æ–½ä¹‹ä¸Šæ”¶å–äº†å¤šé«˜çš„åˆ©æ¶¦ç‡ï¼Ÿå¯¹äºCoinbaseæ¥è¯´ï¼Œä¸€ä¸ªå¥½å¥‡çš„é—®é¢˜æ˜¯ï¼šå½“è°ˆè®ºå¯ä»¥è¯æ˜éœ€è¦ä¸€ä¸ªå›¢é˜Ÿçš„å·¨é¢æˆæœ¬æ—¶ï¼Œä»–ä»¬æ˜¯å¦è€ƒè™‘è¿‡è‡ªå»ºï¼Ÿ
- en: In the case of Coinbase, building in-house following a $65M bill was a clear
    no-brainer. They could hire a team of 10 senior and staff-level engineers in the
    Bay Area, and still have this team cost less than $5M/year. And they then only
    need to budget for the infra costs, which they can presumably bring down to low
    double digits per year.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºCoinbaseæ¥è¯´ï¼Œåœ¨æ”¯ä»˜äº†6500ä¸‡ç¾å…ƒè´¦å•åè‡ªå»ºæ˜¯ä¸€ä¸ªæ˜æ˜¾çš„æ˜æ™ºé€‰æ‹©ã€‚ä»–ä»¬å¯ä»¥åœ¨æ—§é‡‘å±±æ¹¾åŒºé›‡ä½£ä¸€æ”¯ç”±10åé«˜çº§å’Œå‘˜å·¥çº§å·¥ç¨‹å¸ˆç»„æˆçš„å›¢é˜Ÿï¼Œè€Œè¿™æ”¯å›¢é˜Ÿçš„æˆæœ¬ä»ç„¶ä½äºæ¯å¹´500ä¸‡ç¾å…ƒã€‚ç„¶åä»–ä»¬åªéœ€è¦ä¸ºåŸºç¡€è®¾æ–½æˆæœ¬é¢„ç®—ï¼Œä»–ä»¬å¯ä»¥å°†å…¶é¢„è®¡é™ä½åˆ°æ¯å¹´ä¸¤ä½æ•°ã€‚
- en: Coinbase planned to move off Datadog, but ended up staying. However, it is not
    the only larger tech company thinking about bringing observability in house. I
    have another exclusive which even Datadog might not be aware of, yet. This report
    is about Shopify and its plan to move off Datadog. But could recent layoffs change
    things? I cover details on this topic in [the full The Scoop](https://newsletter.pragmaticengineer.com/p/the-scoop-47).
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: Coinbaseè®¡åˆ’è¿ç§»ç¦»å¼€Datadogï¼Œä½†æœ€ç»ˆå†³å®šç•™ä¸‹ã€‚ç„¶è€Œï¼Œå¹¶ä¸æ˜¯å”¯ä¸€ä¸€ä¸ªè€ƒè™‘å°†å¯è§‚æ€§å¼•å…¥å†…éƒ¨çš„å¤§å‹ç§‘æŠ€å…¬å¸ã€‚æˆ‘æœ‰å¦ä¸€ä¸ªç‹¬å®¶æ¶ˆæ¯ï¼Œç”šè‡³Datadogå¯èƒ½è¿˜ä¸çŸ¥é“ã€‚è¿™ä»½æŠ¥å‘Šæ¶‰åŠShopifyåŠå…¶è®¡åˆ’è¿ç§»ç¦»å¼€Datadogã€‚ä½†æœ€è¿‘çš„è£å‘˜ä¼šæ”¹å˜æƒ…å†µå—ï¼Ÿæˆ‘åœ¨[å®Œæ•´çš„The
    Scoop](https://newsletter.pragmaticengineer.com/p/the-scoop-47)ä¸­è¯¦ç»†ä»‹ç»äº†è¿™ä¸ªè¯é¢˜ã€‚
- en: '*This was one out of the five topics covered in this weekâ€™s The Scoop. A lot
    of what I share in The Scoop is exclusive to this publication, meaning itâ€™s not
    been covered in any other media outlet before and youâ€™re the first to read about
    it.*'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '*è¿™æ˜¯æœ¬å‘¨The Scoopä¸­æ¶µç›–çš„äº”ä¸ªè¯é¢˜ä¹‹ä¸€ã€‚æˆ‘åœ¨The Scoopä¸­åˆ†äº«çš„è®¸å¤šå†…å®¹éƒ½æ˜¯æœ¬åˆŠç‹¬å®¶çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬åœ¨ä»»ä½•å…¶ä»–åª’ä½“ä¸Šéƒ½æ²¡æœ‰æŠ¥é“è¿‡ï¼Œä½ æ˜¯ç¬¬ä¸€ä¸ªè¯»åˆ°çš„äººã€‚*'
- en: '*The full The Scoop edition additionally covers:*'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: '*å®Œæ•´çš„The Scoopç‰ˆè¿˜åŒ…æ‹¬ï¼š*'
- en: '**Will Shopify migrate onto an in-house observability tool?** Shopify decided
    to build its own observability platform and migrate off Datadog. This plan looked
    certain until Shopify cut the very engineering teams that built its new platform.
    What happens next?***Exclusive***.'
  id: totrans-51
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Shopifyä¼šè¿ç§»åˆ°å†…éƒ¨çš„å¯è§‚æ€§å·¥å…·å—ï¼Ÿ** Shopifyå†³å®šå»ºç«‹è‡ªå·±çš„å¯è§‚æ€§å¹³å°ï¼Œå¹¶è¿ç§»ç¦»å¼€Datadogã€‚è¿™ä¸ªè®¡åˆ’çœ‹èµ·æ¥å¾ˆç¡®å®šï¼Œç›´åˆ°Shopifyè£å‡äº†å»ºç«‹æ–°å¹³å°çš„å·¥ç¨‹å›¢é˜Ÿã€‚æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ***ç‹¬å®¶***ã€‚'
- en: '**Microsoft cuts its compensation targets**. Almost exactly a year ago, Microsoft
    employees received a welcome surprise: they could expect higher-than-usual compensation
    increases. Yesterday, another unexpected email came, but its contents were the
    opposite of last yearâ€™s. I talked with managers and engineers at the tech giant
    for their reaction to disappointing compensation news. ***Exclusive***.'
  id: totrans-52
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**å¾®è½¯å‰Šå‡äº†è–ªé…¬ç›®æ ‡**ã€‚å¤§çº¦ä¸€å¹´å‰ï¼Œå¾®è½¯å‘˜å·¥æ”¶åˆ°äº†ä¸€ä¸ªæƒŠå–œï¼šä»–ä»¬å¯ä»¥æœŸå¾…æ¯”å¹³æ—¶æ›´é«˜çš„è–ªé…¬å¢é•¿ã€‚æ˜¨å¤©ï¼Œåˆæ”¶åˆ°äº†å¦ä¸€å°æ„å¤–çš„ç”µå­é‚®ä»¶ï¼Œä½†å…¶å†…å®¹ä¸å»å¹´ç›¸åã€‚æˆ‘ä¸è¿™å®¶ç§‘æŠ€å·¨å¤´çš„ç»ç†å’Œå·¥ç¨‹å¸ˆä»¬è®¨è®ºäº†å¯¹ä»¤äººå¤±æœ›çš„è–ªé…¬æ¶ˆæ¯çš„ååº”ã€‚***ç‹¬å®¶***ã€‚'
- en: '**Shopify letting go most staff in Germany.** As part of cutting 20% of staff,
    most people in Germany were made redundant. These layoffs happened a week before
    a Works Council election in Germany. Is this unlucky timing, or is there more
    behind the move?***Exclusive***.'
  id: totrans-53
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Shopify åœ¨å¾·å›½è£å‘˜å¤§éƒ¨åˆ†å‘˜å·¥**ã€‚ä½œä¸ºè£å‘˜ 20% çš„ä¸€éƒ¨åˆ†ï¼Œå¾·å›½å¤§éƒ¨åˆ†å‘˜å·¥è¢«è§£é›‡äº†ã€‚è¿™äº›è£å‘˜å‘ç”Ÿåœ¨å¾·å›½çš„ä¸€ä¸ªå·¥ä¼šé€‰ä¸¾å‰ä¸€å‘¨ã€‚è¿™æ˜¯ä¸å¹¸çš„æ—¶æœºï¼Œè¿˜æ˜¯èƒŒåæœ‰æ›´å¤šçš„åŸå› ï¼Ÿ***ç‹¬å®¶***ã€‚'
- en: '**Senior compensation trending down in Ukraine.** Ukraine is one of the few
    countries for which we have access to nationwide data, through job site Djinni.
    Data for the first part of this year are in, and they point to something not seen
    recently: senior engineers are making less. Is this a local trend, or could we
    see it happening in other countries?*Analysis*.'
  id: totrans-54
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**ä¹Œå…‹å…°çš„é«˜çº§è–ªé…¬è¶‹åŠ¿ä¸‹é™**ã€‚ä¹Œå…‹å…°æ˜¯æˆ‘ä»¬å¯ä»¥è·å¾—å…¨å›½æ•°æ®çš„å°‘æ•°å‡ ä¸ªå›½å®¶ä¹‹ä¸€ï¼Œé€šè¿‡æ‹›è˜ç½‘ç«™ Djinniã€‚ä»Šå¹´ä¸ŠåŠå¹´çš„æ•°æ®å·²ç»å‡ºæ¥äº†ï¼Œå®ƒä»¬æŒ‡å‘äº†æœ€è¿‘æ²¡æœ‰è§è¿‡çš„æƒ…å†µï¼šé«˜çº§å·¥ç¨‹å¸ˆçš„è–ªé…¬åœ¨ä¸‹é™ã€‚è¿™æ˜¯ä¸€ä¸ªåœ°æ–¹æ€§è¶‹åŠ¿ï¼Œè¿˜æ˜¯æˆ‘ä»¬ä¼šçœ‹åˆ°å®ƒåœ¨å…¶ä»–å›½å®¶å‘ç”Ÿï¼Ÿ*åˆ†æ*ã€‚'
- en: '**A follow-up to this weekâ€™s public tech company compensation article**. Why
    was Netflix lower down the list than many software engineers expected? Plus, new
    details about Roblox and why Jack Dorseyâ€™s total compensation is $2.75\. *Follow-up.*'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æœ¬å‘¨å…¬å¼€çš„ç§‘æŠ€å…¬å¸è–ªé…¬æ–‡ç« çš„åç»­æŠ¥é“**ã€‚ä¸ºä»€ä¹ˆ Netflix åœ¨åå•ä¸Šæ¯”è®¸å¤šè½¯ä»¶å·¥ç¨‹å¸ˆé¢„æœŸçš„è¦ä½ï¼Ÿå¦å¤–ï¼Œå…³äº Roblox çš„æ–°ç»†èŠ‚ä»¥åŠä¸ºä»€ä¹ˆæ°å…‹Â·å¤šè¥¿çš„æ€»è–ªé…¬æ˜¯
    $2.75\. *è·Ÿè¿›*ã€‚'
- en: '[Read the full The Scoop here.](https://newsletter.pragmaticengineer.com/p/the-scoop-47)'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '[é˜…è¯»å®Œæ•´çš„ The Scoop è¿™é‡Œã€‚](https://newsletter.pragmaticengineer.com/p/the-scoop-47)'
