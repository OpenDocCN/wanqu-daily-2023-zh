# 六、个软件重写故事的教训 | Herb Caudill | Medium

> 原文链接：[`medium.com/@herbcaudill/lessons-from-6-software-rewrite-stories-635e4c8f7c22`](https://medium.com/@herbcaudill/lessons-from-6-software-rewrite-stories-635e4c8f7c22)

2004 年，他们拿出了一款[他们为内部使用开发的项目管理工具](https://basecamp.com/about/story)，并将其发布为名为[Basecamp](https://signalvnoise.com/archives/000542.php)的软件即服务产品。

那时订阅软件仍然是一种新奇。项目管理工具以装订箱形式出售，价格高达四位数，并附带庞大的手册，主要是关于建模关键路径和生成复杂的甘特图。

Basecamp 以每月 $50 的价格出售，以其超级简单的界面和专注于沟通的特点，给人一种清新的感觉。

几年后，Basecamp 拥有五十万快乐的用户，每个月都有支票进账，Jason 和 David 开始变得不安。

几年前，我在[软件业务](http://www.businessofsoftware.org)会议上看到 David 讲述这个故事。他说，他不仅被 Joel Spolsky 说服，重写软件会毁掉公司，而且还受到敏捷运动的一种自以为是的影响：

> [我]完全被超越性软件的想法所吸引。…那代码是无限可塑的。那遗留代码是无限有价值的。你可以改变任何东西，任何软件的任何代码都可以重写。…如果软件难以更改，那是你的错。你是一个糟糕的程序员，你只需要学会变得更好。

然而，在他所称的“七肥年”之后，他们陷入了困境 —— 这与**技术债务无关**。

## 金色的手铐

他们开始注意到*内心的感觉*缺乏热情。他们不仅没有动力去改进他们的旗舰产品，而且他们自己也没有像以前那样*使用*这个产品。

他们有很多关于如何使产品从根本上变得更好的想法，但是由于成千上万的人正在围绕 Basecamp 构建他们的工作流程，他们所做的每一个改变都会对很多人造成干扰。**改变的障碍不是陈旧的代码库，而是他们的用户。**

他们专注于让现有客户群体满意，这导致产品停滞不前，并阻止他们吸引新客户。这对业务来说并不是一个立即的问题，但却构成了一个长期的威胁。DHH 用一个比喻来描述这种情况，就像试图让一个漏水的桶保持满：

> 你可能正在堵塞所有漏洞，修复所有错误，升级所有现有客户抱怨的功能，以防止任何水流失 — 但总会有一些水流失。即使客户[喜欢它]，他们也会离开工作并离开您的软件。但你可能会自欺欺人地认为，“嘿，这个桶仍然超过一半满。只有一个小小的漏洞在渗出，这是完全自然的。” 但是，如果你坚持这样做足够长的时间，桶最终会变空。

问题的一部分是你总是听到来自现有客户的声音，但你却听不到来自未来客户的声音：

> 2011 年访问 Basecamp 首页并选择不购买的人，因为我们的想法不再足够好，你认为我们从他们那里听到了多少次？从来没有。我们听到的是这个广泛的现有客户群体，他们非常希望我们继续堵塞那些小漏洞。

他们开始将他们盈利的产品视为一套金色的手铐：

> 最重要的是确保你已经拥有的所有用户仍然满意。每个月都有钱进账，新支票，新支票，新支票。很好。但是，你必须伸出双臂说，“好吧，我永远不会再改变我的软件了。”

剧透警告：他们从头开始重写了 Basecamp，结果非常好。大约花了一年的时间，Basecamp 2 发布后立即有两倍的新注册用户。

他们做了两件有趣的事情，我认为这样做很成功。

首先，**他们没有试图重建他们已经拥有的确切产品** — 因为他们对如何解决最初设定的问题有了新的想法。

> 我们真的那么傲慢，认为我们在 2003 年拥有的想法仍然会是 2011 年最好的想法吗？我的意思是，我曾被指责为相当傲慢，但我在 2008 年就放弃了这个想法。

因此，他们将 Basecamp 2 呈现为一个全新的产品，没有保证它与 Basecamp 经典版兼容。许多东西是新的，其他东西消失了，还有很多东西完全不同。

这个决定给了他们一定程度的自由。自由是激励人的，而受到激励的人会做更多事情。

不必支持原始产品的每一个用例也为他们节省了很多时间。例如，原始的 Basecamp 允许用户在自己的 FTP 服务器上托管文档。剔除这个功能 — 以及其他类似的功能，可能在某个时候是有商业意义的，但现在不再有意义 — 使得能够在合理的时间内将新产品推向市场。

## 淘汰有害

但是那些成千上万的现有用户呢？所有那些在他们的奶酪被挪动时大声抱怨的人呢？

这就引出了他们做的第二件有趣的事情，**他们没有淘汰他们现有的产品**。

大卫对“日落”软件的概念进行了一番演绎：

> 某个地方有人想出了这个美丽的委婉说法，叫做日落。…让我们称软件的终结为“日落”。…所有用户都可以坐在海滩上，看着他们的所有数据逐渐消失。这将会很美丽！
> 
> 唯一相信“日落”的人是那些称之为“日落”的人。从未经历过日落时期的用户从来不会回来说，“哦，那真是美丽。” 他们会回来说，“该死！我在这个东西上花了几年的时间！…现在你要*日落*我？”

他指出，当你强迫用户打包搬迁时，*那*才是在犯下“有史以来最糟糕的战略错误”：因为你正在让你的整个持续客户群体思考他们是否想继续使用你的软件或者转移到其他地方。

> “Basecamp 实际上还是我想要的东西吗？如果我们必须搬移所有东西，也许我可以把它搬到别的地方。如果我必须把所有东西打包装箱装上卡车，我可以把那辆卡车送到城市的另一边。这不是什么大麻烦。大麻烦是把所有东西打包起来。无论它再次回到 Basecamp 还是去别的地方，这不是重要的决定。”

大卫将 Basecamp Classic 比作 Leica M3：自 1967 年以来就没有再生产过，但 Leica 仍致力于支持它并在他们经营的时间内修复它。（照片[Dnalor 01](https://commons.wikimedia.org/w/index.php?curid=27903569)）

相反，Basecamp 承诺“**尊重他们的传统**”：他们让人们升级变得容易，但并不要求他们离开 Basecamp Classic。不仅如此，他们承诺会继续无限期地托管、支持和维护 Basecamp Classic。

更有趣的是，四年后，他们又做了一次：[Basecamp 3 于 2015 年发布](https://signalvnoise.com/posts/3968-launch-basecamp-3)，从头开始重写，一些功能被削减，一些被添加，许多事情发生了变化。就像以前一样，旧版本的用户可以轻松升级——但如果他们愿意，他们可以继续使用 Basecamp Classic 或 Basecamp 2“直到互联网的尽头”。

> Basecamp 3 不会让任何东西日落。不是当前版本的 Basecamp，也不是经典的、原始的 Basecamp 版本。其中任何一个对你有用吗？太棒了！请继续使用它们直到互联网的尽头！我们会确保它们快速、安全且始终可用。
> 
> 但是，但是，但是这不是很昂贵吗？这不是很困难吗？安全性呢？遗留代码呢？是的，怎么了？照顾客户——即使他们对我们的升级计划不感兴趣——这就是我们在这里做的事情。

## 教训

就我个人而言，我觉得这个模式真的很鼓舞人心。

每次重写都让 Basecamp 重新审视设计决策，并构建他们希望上一次构建的产品。

对于用户来说，这是两全其美：不喜欢改变的人不会让他们的奶酪被挪动；但是那些受限于产品局限性的人可以使用一个新的、希望更为周密考虑的应用程序。

不得不永远维护产品的多个版本并非没有代价；但正如大卫所说：

> 这不是免费的。你为什么期望它是免费的？它是有价值的，所以当然不是免费的。但这是值得做的。
