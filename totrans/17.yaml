- en: Inside Agodaâ€™s Private Cloud - Exclusive - The Pragmatic Engineer
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: åœ¨Agodaçš„ç§æœ‰äº‘å†…éƒ¨ - ç‹¬å®¶ - å®ç”¨å·¥ç¨‹å¸ˆ
- en: "Original Text: [https://blog.pragmaticengineer.com/inside-agodas-private-cloud/](https://blog.pragmaticengineer.com/inside-agodas-private-cloud/)"
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: åŸæ–‡ï¼š[https://blog.pragmaticengineer.com/inside-agodas-private-cloud/](https://blog.pragmaticengineer.com/inside-agodas-private-cloud/)
- en: '*ğŸ‘‹ Hi, this is* [*Gergely*](https://pragmaticengineer.com/?ref=blog.pragmaticengineer.com)
    *with the monthly, free issue of the Pragmatic Engineer Newsletter. In every issue,
    I cover challenges at Big Tech and startups through the lens of engineering managers
    and senior engineers.*'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: '*ğŸ‘‹ å—¨ï¼Œè¿™æ˜¯* [*Gergely*](https://pragmaticengineer.com/?ref=blog.pragmaticengineer.com)
    *æ¯æœˆå…è´¹å‘å¸ƒçš„å®ç”¨å·¥ç¨‹å¸ˆé€šè®¯ã€‚æ¯æœŸæˆ‘éƒ½ä¼šé€šè¿‡å·¥ç¨‹ç»ç†å’Œé«˜çº§å·¥ç¨‹å¸ˆçš„è§†è§’æ¥æ¢è®¨å¤§å‹ç§‘æŠ€å…¬å¸å’Œåˆåˆ›å…¬å¸é¢ä¸´çš„æŒ‘æˆ˜ã€‚*'
- en: '*If youâ€™re not a subscriber, you missed the issue on*[](https://newsletter.pragmaticengineer.com/p/staying-technical?ref=blog.pragmaticengineer.com)[*Shopifyâ€™s
    leveling split*](https://newsletter.pragmaticengineer.com/p/inside-shopifys-leveling-split?ref=blog.pragmaticengineer.com)
    *and* [*a few others*](https://newsletter.pragmaticengineer.com/archive?ref=blog.pragmaticengineer.com)*.
    Subscribe to get two full issues every week. Many subscribers expense this newsletter
    to their learning and development budget. If you have such a budget, hereâ€™s* [*an
    email you could send to your manager*](https://docs.google.com/document/d/1BTgvFmpxNsJX6m9T6duRfZy4jD4CfcySVqoOGSe343I/edit?usp=sharing&ref=blog.pragmaticengineer.com)*.
    To get articles like this every week, [subscribe here](https://newsletter.pragmaticengineer.com/about?ref=blog.pragmaticengineer.com).*'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '*å¦‚æœæ‚¨ä¸æ˜¯è®¢é˜…è€…ï¼Œæ‚¨å¯èƒ½é”™è¿‡äº†å…³äº*[](https://newsletter.pragmaticengineer.com/p/staying-technical?ref=blog.pragmaticengineer.com)[*Shopifyçš„åˆ†çº§æ‹†åˆ†*](https://newsletter.pragmaticengineer.com/p/inside-shopifys-leveling-split?ref=blog.pragmaticengineer.com)
    *ä»¥åŠ* [*å…¶ä»–ä¸€äº›å†…å®¹*](https://newsletter.pragmaticengineer.com/archive?ref=blog.pragmaticengineer.com)*ã€‚è®¢é˜…ä»¥è·å–æ¯å‘¨ä¸¤æœŸå®Œæ•´çš„é—®é¢˜ã€‚è®¸å¤šè®¢é˜…è€…å°†æ­¤é€šè®¯è´¹ç”¨åˆ—å…¥å…¶å­¦ä¹ å’Œå‘å±•é¢„ç®—ã€‚å¦‚æœæ‚¨æœ‰è¿™æ ·çš„é¢„ç®—ï¼Œè¿™é‡Œæ˜¯*
    [*æ‚¨å¯ä»¥å‘é€ç»™æ‚¨çš„ç»ç†çš„ç”µå­é‚®ä»¶*](https://docs.google.com/document/d/1BTgvFmpxNsJX6m9T6duRfZy4jD4CfcySVqoOGSe343I/edit?usp=sharing&ref=blog.pragmaticengineer.com)*ã€‚è¦è·å–æ¯å‘¨ç±»ä¼¼è¿™æ ·çš„æ–‡ç« ï¼Œ[è¯·åœ¨æ­¤å¤„è®¢é˜…](https://newsletter.pragmaticengineer.com/about?ref=blog.pragmaticengineer.com)ã€‚*'
- en: In a previous [two-part series](https://newsletter.pragmaticengineer.com/p/inside-ubers-move-to-the-cloud-part?ref=blog.pragmaticengineer.com),
    we dived into Uberâ€™s multi-year project to [move onto the cloud](https://newsletter.pragmaticengineer.com/p/uber-move-to-cloud?ref=blog.pragmaticengineer.com),
    away from operating its own data centers. But thereâ€™s no â€œone size fits allâ€ strategy
    when it comes to deciding the right balance between utilizing the cloud and operating
    your infrastructure on-premises.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä¹‹å‰çš„[ä¸¤éƒ¨åˆ†ç³»åˆ—](https://newsletter.pragmaticengineer.com/p/inside-ubers-move-to-the-cloud-part?ref=blog.pragmaticengineer.com)ä¸­ï¼Œæˆ‘ä»¬æ·±å…¥æ¢è®¨äº†Uberå¤šå¹´æ¥[è½¬å‘äº‘ç«¯](https://newsletter.pragmaticengineer.com/p/uber-move-to-cloud?ref=blog.pragmaticengineer.com)çš„é¡¹ç›®ï¼Œè¿œç¦»è‡ªå·±è¿è¥çš„æ•°æ®ä¸­å¿ƒã€‚ä½†åœ¨å†³å®šæ­£ç¡®å¹³è¡¡åˆ©ç”¨äº‘ç«¯å’Œåœ¨æœ¬åœ°è¿è¥åŸºç¡€è®¾æ–½ä¹‹é—´æ—¶ï¼Œå¹¶æ²¡æœ‰â€œä¸€åˆ€åˆ‡â€çš„ç­–ç•¥ã€‚
- en: To show the complexity of this choice and the ways tech businesses approach
    it, this article brings the inside story of one large tech company thatâ€™s decided
    against onboarding to the cloud â€“ at least for now.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: å±•ç¤ºè¿™ä¸ªé€‰æ‹©çš„å¤æ‚æ€§ä»¥åŠç§‘æŠ€ä¼ä¸šå¤„ç†æ–¹å¼çš„æ–¹å¼ï¼Œæœ¬æ–‡æ­ç¤ºäº†ä¸€å®¶å¤§å‹ç§‘æŠ€å…¬å¸çš„å†…éƒ¨æ•…äº‹ï¼Œè¯¥å…¬å¸å†³å®šæš‚æ—¶ä¸ä½¿ç”¨äº‘ç«¯ã€‚
- en: '[Agoda](https://www.agoda.com/?ref=blog.pragmaticengineer.com) is a leading
    online travel booking platform in Asia. Itâ€™s owned by Booking Holdings Inc, which
    also owns the popular travel sites, Kayak and Booking.com. Unlike Uber, Agoda
    does not make use of public cloud providers, having [decided](https://medium.com/agoda-engineering/private-cloud-and-you-736d8d99a51e?ref=blog.pragmaticengineer.com)
    to build out its own private cloud, instead.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[Agoda](https://www.agoda.com/?ref=blog.pragmaticengineer.com)æ˜¯äºšæ´²é¢†å…ˆçš„åœ¨çº¿æ—…è¡Œé¢„è®¢å¹³å°ã€‚å®ƒç”±Booking
    Holdings Incæ‹¥æœ‰ï¼Œåè€…è¿˜æ‹¥æœ‰æµè¡Œçš„æ—…è¡Œç½‘ç«™Kayakå’ŒBooking.comã€‚ä¸Uberä¸åŒï¼ŒAgodaä¸ä½¿ç”¨å…¬å…±äº‘æä¾›å•†ï¼Œè€Œæ˜¯[å†³å®š](https://medium.com/agoda-engineering/private-cloud-and-you-736d8d99a51e?ref=blog.pragmaticengineer.com)æ„å»ºè‡ªå·±çš„ç§æœ‰äº‘ã€‚'
- en: To learn more, I reached out to Agodaâ€™s CTO [Idan Zalzberg](https://www.linkedin.com/in/idan-zalzberg-a2300013?ref=blog.pragmaticengineer.com)
    who generously talked through previously not shared details.
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸ºäº†äº†è§£æ›´å¤šä¿¡æ¯ï¼Œæˆ‘è”ç³»äº†Agodaçš„CTO [Idan Zalzberg](https://www.linkedin.com/in/idan-zalzberg-a2300013?ref=blog.pragmaticengineer.com)ï¼Œä»–æ…·æ…¨åœ°åˆ†äº«äº†ä»¥å‰æœªå…¬å¼€çš„ç»†èŠ‚ã€‚
- en: 'In todayâ€™s issue, we cover:'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ä»Šå¤©çš„é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬å°†æ¶µç›–ï¼š
- en: '**Agoda in numbers.** The number of developers, physical cores, data centers,
    and more.'
  id: totrans-9
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Agodaçš„æ•°å­—ã€‚**å¼€å‘äººå‘˜æ•°é‡ã€ç‰©ç†æ ¸å¿ƒæ•°ã€æ•°æ®ä¸­å¿ƒç­‰ç­‰ã€‚'
- en: '**The hardware inside Agodaâ€™s private cloud**. 64-core compute nodes of around
    20 servers per rack, Top-of-rack (ToR) switches and plenty of redundancy.'
  id: totrans-10
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Agodaç§æœ‰äº‘ä¸­çš„ç¡¬ä»¶**ã€‚æ¯ä¸ªæœºæ¶çº¦æœ‰20å°64æ ¸è®¡ç®—èŠ‚ç‚¹ï¼Œé¡¶éƒ¨äº¤æ¢æœºå’Œå¤§é‡å†—ä½™ã€‚'
- en: '**Agodaâ€™s cloud strategy and usage.** Is Agodaâ€™s goal to operate off the cloud,
    or on it? What are the use cases where the company already utilizes public cloud?'
  id: totrans-11
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Agodaçš„äº‘ç­–ç•¥å’Œä½¿ç”¨æƒ…å†µã€‚** Agodaçš„ç›®æ ‡æ˜¯åœ¨äº‘ç«¯è¿è¥è¿˜æ˜¯åœ¨äº‘ç«¯è¿è¥ï¼Ÿå…¬å¸å·²ç»åœ¨å“ªäº›ç”¨ä¾‹ä¸­åˆ©ç”¨äº†å…¬å…±äº‘ï¼Ÿ'
- en: '**The cloud or your own data centers?** Idanâ€™s advice for any midsize company
    weighing up on-prem versus public cloud.'
  id: totrans-12
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**äº‘ç«¯è¿˜æ˜¯è‡ªå·±çš„æ•°æ®ä¸­å¿ƒï¼Ÿ** Idanå¯¹äºä»»ä½•æ­£åœ¨æƒè¡¡æœ¬åœ°ä¸å…¬å…±äº‘çš„ä¸­å‹å…¬å¸çš„å»ºè®®ã€‚'
- en: 1\. Agoda in numbers
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 1. Agodaçš„æ•°å­—
- en: Agoda lists 3.6M hotels and holiday properties worldwide, and its apps and website
    appear in 39 languages. The company sees 80K searches per second at peak traffic,
    and serving them all involves calculating 10M different â€œaccomodation ratesâ€ per
    second. Interestingly, the majority of these searches are not by holidaymakers
    â€œbrowsing right nowâ€ during their free time â€“ most searches are by partners, affiliates
    and search engines!
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: Agodaåˆ—å‡ºäº†å…¨çƒ3.6ç™¾ä¸‡å®¶é…’åº—å’Œåº¦å‡å±‹ï¼Œå…¶åº”ç”¨ç¨‹åºå’Œç½‘ç«™æ”¯æŒ39ç§è¯­è¨€ã€‚è¯¥å…¬å¸åœ¨é«˜å³°æ—¶æ®µæ¯ç§’å¤„ç†80,000æ¬¡æœç´¢ï¼Œä¸ºäº†æ»¡è¶³æ‰€æœ‰éœ€æ±‚ï¼Œéœ€è¦æ¯ç§’è®¡ç®—10ç™¾ä¸‡ä¸ªä¸åŒçš„â€œä½å®¿è´¹ç‡â€ã€‚æœ‰è¶£çš„æ˜¯ï¼Œå¤§å¤šæ•°æœç´¢å¹¶ä¸æ˜¯ç”±åº¦å‡è€…åœ¨ç©ºé—²æ—¶é—´â€œæµè§ˆæ­¤åˆ»â€è¿›è¡Œçš„
    - å¤§å¤šæ•°æœç´¢æ¥è‡ªåˆä½œä¼™ä¼´ã€è”ç›Ÿå’Œæœç´¢å¼•æ“ï¼
- en: The company employs about 6,600 people in 31 markets, with its headquarters
    in Singapore. Around 1,600 people work in engineering, including software engineers,
    data science and business intelligence (BI) teams, and the DevOps team. The majority
    of the engineering team is in Bangkok, Thailand.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¸åœ¨31ä¸ªå¸‚åœºé›‡ä½£äº†çº¦6600äººï¼Œæ€»éƒ¨è®¾åœ¨æ–°åŠ å¡ã€‚å¤§çº¦1600äººä»äº‹å·¥ç¨‹å·¥ä½œï¼ŒåŒ…æ‹¬è½¯ä»¶å·¥ç¨‹å¸ˆã€æ•°æ®ç§‘å­¦å’Œå•†ä¸šæ™ºèƒ½ï¼ˆBIï¼‰å›¢é˜Ÿä»¥åŠDevOpså›¢é˜Ÿã€‚å¤§å¤šæ•°å·¥ç¨‹å›¢é˜Ÿä½äºæ³°å›½æ›¼è°·ã€‚
- en: Among the 1,600 tech workers, the hardware team numbers in the low tens, and
    their job is to maintain the hardware and ensure it operates in DCs as expected.
    This group doesnâ€™t include the software layer for infrastructure, which is a software
    team that builds the orchestration platform (Fleet) upon Kubernetes.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨1600åæŠ€æœ¯å·¥ä½œè€…ä¸­ï¼Œç¡¬ä»¶å›¢é˜Ÿäººæ•°åœ¨å‡ åäººå·¦å³ï¼Œä»–ä»¬çš„å·¥ä½œæ˜¯ç»´æŠ¤ç¡¬ä»¶å¹¶ç¡®ä¿å…¶åœ¨æ•°æ®ä¸­å¿ƒä¸­æŒ‰é¢„æœŸè¿è¡Œã€‚è¿™ä¸ªå›¢é˜Ÿä¸åŒ…æ‹¬åŸºç¡€è®¾æ–½çš„è½¯ä»¶å±‚ï¼Œè¿™æ˜¯ä¸€ä¸ªè½¯ä»¶å›¢é˜Ÿï¼Œè´Ÿè´£åœ¨Kubernetesä¸Šæ„å»ºç¼–æ’å¹³å°ï¼ˆFleetï¼‰ã€‚
- en: Although the company employs about 4-500 people in its data organization, thereâ€™s
    been no single dedicated â€œdata teamâ€ for around 2 years. Agoda moved away from
    this model and its data engineers are embedded into each team. Within the data
    org, the distinct roles of data scientist, data analyst and data engineer are
    defined. Within data engineering, there is currently no separation between data
    engineers and machine learning (ML) engineers; individuals take on both roles.
    *We go deeper into ML in* [*What is ML engineering?*](https://newsletter.pragmaticengineer.com/p/what-is-ml-engineering?ref=blog.pragmaticengineer.com)
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: å°½ç®¡å…¬å¸åœ¨å…¶æ•°æ®ç»„ç»‡ä¸­é›‡ä½£äº†å¤§çº¦4-500äººï¼Œä½†å¤§çº¦2å¹´æ¥æ²¡æœ‰ä¸€ä¸ªä¸“é—¨çš„â€œæ•°æ®å›¢é˜Ÿâ€ã€‚Agodaæ‘†è„±äº†è¿™ç§æ¨¡å¼ï¼Œå…¶æ•°æ®å·¥ç¨‹å¸ˆåµŒå…¥åˆ°æ¯ä¸ªå›¢é˜Ÿä¸­ã€‚åœ¨æ•°æ®ç»„ç»‡ä¸­ï¼Œå®šä¹‰äº†æ•°æ®ç§‘å­¦å®¶ã€æ•°æ®åˆ†æå¸ˆå’Œæ•°æ®å·¥ç¨‹å¸ˆçš„ä¸åŒè§’è‰²ã€‚åœ¨æ•°æ®å·¥ç¨‹ä¸­ï¼Œç›®å‰æ²¡æœ‰æ•°æ®å·¥ç¨‹å¸ˆå’Œæœºå™¨å­¦ä¹ ï¼ˆMLï¼‰å·¥ç¨‹å¸ˆä¹‹é—´çš„åŒºåˆ†ï¼›ä¸ªäººæ‰¿æ‹…è¿™ä¸¤ç§è§’è‰²ã€‚*æˆ‘ä»¬åœ¨*
    [*ä»€ä¹ˆæ˜¯MLå·¥ç¨‹ï¼Ÿ*](https://newsletter.pragmaticengineer.com/p/what-is-ml-engineering?ref=blog.pragmaticengineer.com)
    *ä¸­æ›´æ·±å…¥åœ°æ¢è®¨ML*
- en: The company works in Scrum teams, which typically contain a product manager,
    developers, data scientists/analysts/engineers and BI engineers. The goal of having
    all these people is to create a shared business purpose.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¸ä»¥Scrumå›¢é˜Ÿçš„å½¢å¼å·¥ä½œï¼Œé€šå¸¸åŒ…æ‹¬äº§å“ç»ç†ã€å¼€å‘äººå‘˜ã€æ•°æ®ç§‘å­¦å®¶/åˆ†æå¸ˆ/å·¥ç¨‹å¸ˆå’ŒBIå·¥ç¨‹å¸ˆã€‚æ‹¥æœ‰æ‰€æœ‰è¿™äº›äººçš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªå…±äº«çš„ä¸šåŠ¡ç›®çš„ã€‚
- en: 'Infrastructure-wise, the company operates around 6,500 servers, with a total
    of approximately 600k virtual cores (vCores) and 300k physical cores. The companyâ€™s
    largest data cluster is 20-30PB (petabytes: 1PB is 1,000 terabytes or 1M gigabytes).
    Ten years ago, this data cluster was 300GB as a Hadoop cluster; thatâ€™s around
    a 100,000-fold increase in data stored!'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨åŸºç¡€è®¾æ–½æ–¹é¢ï¼Œå…¬å¸è¿è¥å¤§çº¦6500å°æœåŠ¡å™¨ï¼Œæ€»å…±çº¦60ä¸‡ä¸ªè™šæ‹Ÿæ ¸å¿ƒï¼ˆvCoresï¼‰å’Œ30ä¸‡ä¸ªç‰©ç†æ ¸å¿ƒã€‚å…¬å¸æœ€å¤§çš„æ•°æ®é›†ç¾¤æ˜¯20-30PBï¼ˆPBï¼š1PBç­‰äº1000TBæˆ–1MGBï¼‰ã€‚åå¹´å‰ï¼Œè¿™ä¸ªæ•°æ®é›†ç¾¤æ˜¯ä¸€ä¸ª300GBçš„Hadoopé›†ç¾¤ï¼›å­˜å‚¨çš„æ•°æ®é‡å¢åŠ äº†å¤§çº¦10ä¸‡å€ï¼
- en: 'The company runs 4 data centers: in the US and Europe, with two in Asia. Agoda
    co-locates in all data centers, leasing space for its racks and the largest data
    center consumes about 1 MW of power. It uses Spark for the data platform. For
    transactional databases, itâ€™s mostly the Microsoft SQL Server, but also other
    databases like PostgreSQL, ScyllaDB and Couchbase. At peak load, Agoda sees around
    7.5M queries per second as total load, spread across its managed database-as-a-service
    (DBAAS.) The company uses HP servers, VAST hardware for object storage. Agoda
    utilizes Akamai as its CDN vendor.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¸åœ¨ç¾å›½å’Œæ¬§æ´²è¿è¡Œ4ä¸ªæ•°æ®ä¸­å¿ƒï¼Œäºšæ´²æœ‰ä¸¤ä¸ªã€‚Agodaåœ¨æ‰€æœ‰æ•°æ®ä¸­å¿ƒè¿›è¡Œåˆä½œï¼Œä¸ºå…¶æœºæ¶ç§Ÿèµç©ºé—´ï¼Œæœ€å¤§çš„æ•°æ®ä¸­å¿ƒæ¶ˆè€—çº¦1å…†ç“¦çš„ç”µåŠ›ã€‚å®ƒä½¿ç”¨Sparkä½œä¸ºæ•°æ®å¹³å°ã€‚å¯¹äºäº‹åŠ¡æ€§æ•°æ®åº“ï¼Œä¸»è¦æ˜¯Microsoft
    SQL Serverï¼Œä½†ä¹ŸåŒ…æ‹¬å…¶ä»–æ•°æ®åº“å¦‚PostgreSQLã€ScyllaDBå’ŒCouchbaseã€‚åœ¨é«˜å³°è´Ÿè½½æ—¶ï¼ŒAgodaçœ‹åˆ°æ¯ç§’å¤§çº¦750ä¸‡ä¸ªæŸ¥è¯¢ä½œä¸ºæ€»è´Ÿè½½ï¼Œåˆ†å¸ƒåœ¨å…¶æ‰˜ç®¡çš„æ•°æ®åº“å³æœåŠ¡ï¼ˆDBAASï¼‰ä¸­ã€‚å…¬å¸ä½¿ç”¨HPæœåŠ¡å™¨ï¼ŒVASTç¡¬ä»¶ç”¨äºå¯¹è±¡å­˜å‚¨ã€‚Agodaåˆ©ç”¨Akamaiä½œä¸ºå…¶CDNä¾›åº”å•†ã€‚
- en: 2\. The hardware inside Agodaâ€™s private cloud
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 2. Agodaç§æœ‰äº‘ä¸­çš„ç¡¬ä»¶
- en: 'Agoda is standardizing its hardware SKUs (stock-keeping unit,) This is a unique
    code for a hardware that captures all the important details. The company standardizes
    SKUs to allow for supply chain optimization and ease of deployment. Typical compute
    nodes have:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: Agodaæ­£åœ¨æ ‡å‡†åŒ–å…¶ç¡¬ä»¶SKUï¼ˆåº“å­˜å•ä½ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªæ•æ‰æ‰€æœ‰é‡è¦ç»†èŠ‚çš„ç¡¬ä»¶çš„å”¯ä¸€ä»£ç ã€‚å…¬å¸æ ‡å‡†åŒ–SKUä»¥å®ç°ä¾›åº”é“¾ä¼˜åŒ–å’Œéƒ¨ç½²ä¾¿åˆ©ã€‚å…¸å‹çš„è®¡ç®—èŠ‚ç‚¹å…·æœ‰ï¼š
- en: 64 cores physical cores, with SMT enabled (128 vCores)
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 64ä¸ªç‰©ç†æ ¸å¿ƒï¼Œå¯ç”¨SMTï¼ˆ128ä¸ªè™šæ‹Ÿæ ¸å¿ƒï¼‰
- en: 512 GB memory
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 512GBå†…å­˜
- en: 4 TB of storage
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 4TBçš„å­˜å‚¨
- en: 'The company aims to maintain a similar ratio of cores / RAM / disk on all servers
    it buys. Hereâ€™s a common configuration:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¸çš„ç›®æ ‡æ˜¯åœ¨è´­ä¹°çš„æ‰€æœ‰æœåŠ¡å™¨ä¸Šä¿æŒç›¸ä¼¼çš„æ ¸å¿ƒ/å†…å­˜/ç£ç›˜æ¯”ä¾‹ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸è§çš„é…ç½®ï¼š
- en: HPE ProLiant DL325 Gen10 Plus v2 Server
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: HPE ProLiant DL325 Gen10 Plus v2æœåŠ¡å™¨
- en: 'CPU: 1x AMD 7763 CPU (64 physical cores)'
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: CPUï¼š1ä¸ªAMD 7763 CPUï¼ˆ64ä¸ªç‰©ç†æ ¸å¿ƒï¼‰
- en: 'Memory: 512 GB of RAM'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å†…å­˜ï¼š512GB RAM
- en: Storage and 4 TB of NVMe ([nonvolatile memory express](https://www.netapp.com/data-storage/nvme/what-is-nvme?ref=blog.pragmaticengineer.com))
    storage. NVMe is next-generation SSD
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å­˜å‚¨å’Œ4TBçš„NVMeï¼ˆ[éæ˜“å¤±æ€§å†…å­˜è¡¨è¾¾](https://www.netapp.com/data-storage/nvme/what-is-nvme?ref=blog.pragmaticengineer.com)ï¼‰å­˜å‚¨ã€‚NVMeæ˜¯ä¸‹ä¸€ä»£SSD
- en: '![The HPE ProLiant DL325 Gen10 Plus v2 Server](../Images/08c6dfde00cfbce7e7ead209ef91119d.png)'
  id: totrans-31
  prefs: []
  type: TYPE_IMG
  zh: '![HPE ProLiant DL325 Gen10 Plus v2æœåŠ¡å™¨](../Images/08c6dfde00cfbce7e7ead209ef91119d.png)'
- en: The HPE ProLiant DL325 Gen10 Plus v2 Server
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: HPE ProLiant DL325 Gen10 Plus v2æœåŠ¡å™¨
- en: Agodaâ€™s racks usually support 6-10 KW of load each, depending on the age of
    the facility. Often, around a dozen servers are deployed on a 6KW rack, equating
    to circa 1.5K vCores which can deploy approximately 20 servers with a 10KW rack,
    or around 2.5K vCores.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: Agodaçš„æœºæ¶é€šå¸¸æ”¯æŒæ¯ä¸ª6-10åƒç“¦çš„è´Ÿè½½ï¼Œå…·ä½“å–å†³äºè®¾æ–½çš„å¹´é¾„ã€‚é€šå¸¸ï¼Œå¤§çº¦æœ‰åå‡ å°æœåŠ¡å™¨éƒ¨ç½²åœ¨ä¸€ä¸ª6åƒç“¦çš„æœºæ¶ä¸Šï¼Œç›¸å½“äºå¤§çº¦1.5Kä¸ªè™šæ‹Ÿæ ¸å¿ƒï¼Œå¯ä»¥éƒ¨ç½²å¤§çº¦20å°æœåŠ¡å™¨åœ¨ä¸€ä¸ª10åƒç“¦çš„æœºæ¶ä¸Šï¼Œæˆ–è€…å¤§çº¦2.5Kä¸ªè™šæ‹Ÿæ ¸å¿ƒã€‚
- en: '![Servers and racks in Agodaâ€™s data centers](../Images/2f4ef5b54c11161a4fc35b3d40e0d874.png)'
  id: totrans-34
  prefs: []
  type: TYPE_IMG
  zh: '![Agodaæ•°æ®ä¸­å¿ƒä¸­çš„æœåŠ¡å™¨å’Œæœºæ¶](../Images/2f4ef5b54c11161a4fc35b3d40e0d874.png)'
- en: Servers and racks in Agodaâ€™s data centers
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: Agodaæ•°æ®ä¸­å¿ƒä¸­çš„æœåŠ¡å™¨å’Œæœºæ¶
- en: The company needs to plan server locations carefully in order to avoid hot spots
    and airflow problems.Each server has 2x25Gbps networking interfaces connected
    to dual switches of one switch per rack, and the cables cross between a rack pair.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¸éœ€è¦ä»”ç»†è§„åˆ’æœåŠ¡å™¨ä½ç½®ï¼Œä»¥é¿å…çƒ­ç‚¹å’Œæ°”æµé—®é¢˜ã€‚æ¯å°æœåŠ¡å™¨æœ‰2ä¸ª25Gbpsçš„ç½‘ç»œæ¥å£è¿æ¥åˆ°æ¯ä¸ªæœºæ¶ä¸€ä¸ªäº¤æ¢æœºçš„åŒäº¤æ¢æœºï¼Œå¹¶ä¸”ç”µç¼†åœ¨æœºæ¶å¯¹ä¹‹é—´äº¤å‰ã€‚
- en: Top-of-rack (ToR) switches connect to end-of-row switches with multiple 100
    Gbps links, which connect to the network core with 2x400 or 4x400 Gbps links,
    depending on row size. Oversubscription, depending on rack density, is between
    1.3:1 and 2:1.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: é¡¶éƒ¨äº¤æ¢æœºé€šè¿‡å¤šä¸ª100 Gbpsé“¾æ¥è¿æ¥åˆ°è¡Œæœ«äº¤æ¢æœºï¼Œè¡Œæœ«äº¤æ¢æœºé€šè¿‡2x400æˆ–4x400 Gbpsé“¾æ¥è¿æ¥åˆ°ç½‘ç»œæ ¸å¿ƒï¼Œå…·ä½“å–å†³äºè¡Œçš„å¤§å°ã€‚æ ¹æ®æœºæ¶å¯†åº¦ï¼Œè¿‡åº¦è®¢é˜…æ¯”ä¾‹åœ¨1.3:1å’Œ2:1ä¹‹é—´ã€‚
- en: '**Oversubscription** in networking terms refers to having less network bandwidth
    available than the total capacity the network can theoretically handle. For example,
    assume a rack with 20 servers, each with a 25 Gbps card. To carry all the network
    capacity of these servers, you need 500 Gbps of bandwidth. However, if the top-of-the-rack
    switch has only 4x100Gbps of bandwidth, then oversubscription is 1.25:1 (500Gbps
    theoretical peak, vs 400 Gbps actual.)'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨ç½‘ç»œæœ¯è¯­ä¸­ï¼Œ**è¿‡åº¦è®¢é˜…**æŒ‡çš„æ˜¯å¯ç”¨ç½‘ç»œå¸¦å®½å°‘äºç½‘ç»œç†è®ºä¸Šå¯ä»¥å¤„ç†çš„æ€»å®¹é‡ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä¸€ä¸ªæœºæ¶æœ‰20å°æœåŠ¡å™¨ï¼Œæ¯å°æœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ª25 Gbpsçš„ç½‘å¡ã€‚è¦æ‰¿è½½è¿™äº›æœåŠ¡å™¨çš„æ‰€æœ‰ç½‘ç»œå®¹é‡ï¼Œæ‚¨éœ€è¦500
    Gbpsçš„å¸¦å®½ã€‚ç„¶è€Œï¼Œå¦‚æœé¡¶éƒ¨äº¤æ¢æœºåªæœ‰4x100Gbpsçš„å¸¦å®½ï¼Œé‚£ä¹ˆè¿‡åº¦è®¢é˜…æ¯”ä¾‹ä¸º1.25:1ï¼ˆ500Gbpsç†è®ºå³°å€¼ï¼Œä¸å®é™…çš„400 Gbpsç›¸æ¯”ï¼‰ã€‚
- en: Similarly, if you have 10 racks with 400 Gbps bandwidth per rack, you need 4,000
    Gbps bandwidth at the end-of-rack switches. However, assuming 4x400Gbps switches,
    the oversubscription is 2.5:1 (4,000:1,600).
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: åŒæ ·ï¼Œå¦‚æœæ‚¨æœ‰10ä¸ªæ¯ä¸ªæœºæ¶å¸¦å®½ä¸º400 Gbpsçš„æœºæ¶ï¼Œæ‚¨éœ€è¦åœ¨æœºæ¶æœ«ç«¯äº¤æ¢æœºä¸Šæœ‰4,000 Gbpsçš„å¸¦å®½ã€‚ç„¶è€Œï¼Œå‡è®¾æœ‰4ä¸ª400Gbpsäº¤æ¢æœºï¼Œè¿‡åº¦è®¢é˜…æ¯”ä¾‹ä¸º2.5:1ï¼ˆ4,000:1,600ï¼‰ã€‚
- en: Oversubscription is a pragmatic approach to network planning, when considering
    cost control. Servers rarely use their maximum allocated bandwidth for prolonged
    periods, and itâ€™s even less likely that this happens simultaneously to all servers
    in a rack, or for all racks in a row. In the case of Agoda, oversubscription was
    done after understanding the traffic patterns, and this setup does not interfere
    with being able to handle peak traffic loads.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: è¿‡åº¦è®¢é˜…æ˜¯ç½‘ç»œè§„åˆ’çš„ä¸€ç§åŠ¡å®æ–¹æ³•ï¼Œè€ƒè™‘åˆ°æˆæœ¬æ§åˆ¶ã€‚æœåŠ¡å™¨å¾ˆå°‘ä¼šé•¿æ—¶é—´ä½¿ç”¨å…¶åˆ†é…çš„æœ€å¤§å¸¦å®½ï¼Œè€Œä¸”å¾ˆå°‘ä¼šåŒæ—¶å‘ç”Ÿæ‰€æœ‰æœåŠ¡å™¨åœ¨ä¸€ä¸ªæœºæ¶ä¸­ï¼Œæˆ–è€…æ‰€æœ‰æœºæ¶åœ¨ä¸€æ’ä¸­åŒæ—¶å‘ç”Ÿè¿™ç§æƒ…å†µã€‚åœ¨Agodaçš„æƒ…å†µä¸‹ï¼Œè¿‡åº¦è®¢é˜…æ˜¯åœ¨äº†è§£æµé‡æ¨¡å¼ä¹‹åè¿›è¡Œçš„ï¼Œè¿™ç§è®¾ç½®ä¸ä¼šå½±å“å¤„ç†å³°å€¼æµé‡è´Ÿè½½çš„èƒ½åŠ›ã€‚
- en: '![Networking setup within Agoda data centers](../Images/b1b02cc9ed8a48b37a473e92c4fa0866.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![Agodaæ•°æ®ä¸­å¿ƒå†…çš„ç½‘ç»œè®¾ç½®](../Images/b1b02cc9ed8a48b37a473e92c4fa0866.png)'
- en: Networking setup within Agoda data centers
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: Agodaæ•°æ®ä¸­å¿ƒå†…çš„ç½‘ç»œè®¾ç½®
- en: '![A rack inside Agodaâ€™s Singapore data center. The yellow networking cables
    are 25 GPS, and the black ones are power cables](../Images/30d476df9fbb0572d172cdae7053f014.png)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![Agodaæ–°åŠ å¡æ•°æ®ä¸­å¿ƒå†…çš„ä¸€ä¸ªæœºæ¶ã€‚é»„è‰²çš„ç½‘ç»œç”µç¼†æ˜¯25 GPSï¼Œé»‘è‰²çš„æ˜¯ç”µæºç”µç¼†](../Images/30d476df9fbb0572d172cdae7053f014.png)'
- en: A rack inside Agodaâ€™s Singapore data center. The yellow networking cables are
    25 GPS, and the black ones are power cables
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨Agodaæ–°åŠ å¡æ•°æ®ä¸­å¿ƒå†…çš„ä¸€ä¸ªæœºæ¶ã€‚é»„è‰²çš„ç½‘ç»œç”µç¼†æ˜¯25 GPSï¼Œé»‘è‰²çš„æ˜¯ç”µæºç”µç¼†
- en: The company uses [Arista](https://www.arista.com/?ref=blog.pragmaticengineer.com)
    equipment in the DC. Due to supply chain issues, hardware refresh work is a bit
    behind, so a decent chunk of the racks are still on 10Gps ports. All of those
    ports are expected to be upgraded by 2024.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: å…¬å¸åœ¨æ•°æ®ä¸­å¿ƒä½¿ç”¨[Arista](https://www.arista.com/?ref=blog.pragmaticengineer.com)è®¾å¤‡ã€‚ç”±äºä¾›åº”é“¾é—®é¢˜ï¼Œç¡¬ä»¶æ›´æ–°å·¥ä½œæœ‰äº›æ»åï¼Œå› æ­¤ç›¸å½“å¤šçš„æœºæ¶ä»åœ¨ä½¿ç”¨10Gpsç«¯å£ã€‚é¢„è®¡åˆ°2024å¹´æ‰€æœ‰è¿™äº›ç«¯å£éƒ½å°†å‡çº§ã€‚
- en: '**Needless to say, Agodaâ€™s infrastructure is redundant.** The company has two
    of pretty much everything, and redundant networking. They achieve inter-DC connectivity
    through a combination of:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ¯‹åº¸ç½®ç–‘ï¼ŒAgodaçš„åŸºç¡€è®¾æ–½æ˜¯å†—ä½™çš„ã€‚**å…¬å¸å‡ ä¹æ¯æ ·ä¸œè¥¿éƒ½æœ‰ä¸¤ä»½ï¼Œå¹¶ä¸”æœ‰å†—ä½™çš„ç½‘ç»œã€‚ä»–ä»¬é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°æ•°æ®ä¸­å¿ƒä¹‹é—´çš„è¿æ¥ï¼š'
- en: Bandwidth between the main DCs is 40 Gbps, growing to 60 Gbps in the near future.
    It has optimized traffic paths for latency and route critical applications through
    the best circuits.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸»æ•°æ®ä¸­å¿ƒä¹‹é—´çš„å¸¦å®½ä¸º40 Gbpsï¼Œæœªæ¥å°†å¢é•¿åˆ°60 Gbpsã€‚å®ƒä¸ºå»¶è¿Ÿå’Œè·¯ç”±å…³é”®åº”ç”¨ç¨‹åºä¼˜åŒ–äº†æµé‡è·¯å¾„ã€‚
- en: '**To reduce latency, a CDN is used**. From a customer perspective, Agoda utilizes
    a CDN with a large local presence in core geographies, [Akamai](https://www.akamai.com/?ref=blog.pragmaticengineer.com).
    The CDN manages caching and path optimization from the customer to Agoda, mitigating
    some common local access problems of remote locations. It also utilizes this distributed
    platform for security purposes, enriching data sent to the on-prem fraud detection
    platform.'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: '**ä¸ºäº†å‡å°‘å»¶è¿Ÿï¼Œä½¿ç”¨äº†CDN**ã€‚ä»å®¢æˆ·çš„è§’åº¦æ¥çœ‹ï¼ŒAgodaåˆ©ç”¨äº†ä¸€ä¸ªåœ¨æ ¸å¿ƒåœ°ç†ä½ç½®å…·æœ‰å¤§é‡æœ¬åœ°å­˜åœ¨çš„CDNï¼Œ[Akamai](https://www.akamai.com/?ref=blog.pragmaticengineer.com)ã€‚CDNç®¡ç†ç¼“å­˜å’Œè·¯å¾„ä¼˜åŒ–ï¼Œä»å®¢æˆ·åˆ°Agodaï¼Œå‡è½»äº†ä¸€äº›è¿œç¨‹ä½ç½®å¸¸è§çš„æœ¬åœ°è®¿é—®é—®é¢˜ã€‚å®ƒè¿˜åˆ©ç”¨è¿™ä¸ªåˆ†å¸ƒå¼å¹³å°è¿›è¡Œå®‰å…¨ç›®çš„ï¼Œä¸°å¯Œå‘é€åˆ°æœ¬åœ°æ¬ºè¯ˆæ£€æµ‹å¹³å°çš„æ•°æ®ã€‚'
- en: '**For its data platform**, Agoda builds on top of Spark. For the underlying
    hardware, it uses dual-socket HP Dl385 servers, with:'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯¹äºå…¶æ•°æ®å¹³å°**ï¼ŒAgodaæ„å»ºåœ¨Sparkä¹‹ä¸Šã€‚åœ¨åº•å±‚ç¡¬ä»¶ä¸Šï¼Œå®ƒä½¿ç”¨åŒæ’æ§½HP Dl385æœåŠ¡å™¨ï¼Œå…·æœ‰ï¼š'
- en: 2x64-core AMD EPYC 7713 CPUs
  id: totrans-50
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 2x64æ ¸AMD EPYC 7713 CPU
- en: 2 TB of RAM
  id: totrans-51
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 2 TBçš„RAM
- en: 15 TB of NVMe, for caching purposes.
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 15 TBçš„NVMeï¼Œç”¨äºç¼“å­˜ç›®çš„ã€‚
- en: '![A HP Dl385 server](../Images/307d26c9ddd275517e61ce6e9e00d52d.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: ä¸€ä¸ªHP Dl385æœåŠ¡å™¨
- en: A HP Dl385 server
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: ä¸€ä¸ªHP Dl385æœåŠ¡å™¨
- en: These HP servers run quite hot at 800-900W each, so Agoda can only host 7 or
    so in each rack.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›HPæœåŠ¡å™¨è¿è¡Œæ—¶ç›¸å½“çƒ­ï¼Œæ¯å°æ¶ˆè€—800-900Wï¼Œå› æ­¤Agodaæ¯ä¸ªæœºæ¶åªèƒ½æ‰¿è½½7å°å·¦å³ã€‚
- en: '**For data storage**, it uses an [object store](https://en.wikipedia.org/wiki/Object_storage?ref=blog.pragmaticengineer.com)
    cluster, running on [VAST](https://vastdata.com/?ref=blog.pragmaticengineer.com)
    hardware. In this cluster, around 15 PB of raw data and 21 PB of logical data
    can be stored. More data can be fitted than there is raw storage available thanks
    to VASTâ€™s [data deduplication](https://vastdata.com/blog/data-reduction-redux/?ref=blog.pragmaticengineer.com).'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**å¯¹äºæ•°æ®å­˜å‚¨**ï¼Œå®ƒä½¿ç”¨è¿è¡Œåœ¨[VAST](https://vastdata.com/?ref=blog.pragmaticengineer.com)ç¡¬ä»¶ä¸Šçš„[å¯¹è±¡å­˜å‚¨](https://en.wikipedia.org/wiki/Object_storage?ref=blog.pragmaticengineer.com)é›†ç¾¤ã€‚åœ¨è¿™ä¸ªé›†ç¾¤ä¸­ï¼Œå¯ä»¥å­˜å‚¨å¤§çº¦15
    PBçš„åŸå§‹æ•°æ®å’Œ21 PBçš„é€»è¾‘æ•°æ®ã€‚ç”±äºVASTçš„[æ•°æ®å»é‡](https://vastdata.com/blog/data-reduction-redux/?ref=blog.pragmaticengineer.com)ï¼Œå¯ä»¥å­˜å‚¨æ›´å¤šçš„æ•°æ®ï¼Œè¶…è¿‡äº†å¯ç”¨çš„åŸå§‹å­˜å‚¨ç©ºé—´ã€‚'
- en: '**For transactional work**, Agoda mostly uses Microsoft SQL server (MSSQL,)
    running on physical servers optimized for core performance using low-core count
    and high clock machines. It chose this setup because the Microsoft licensing model
    has a rather steep per-core cost. Licensing costs are around $7,000 per core for
    SQL Serverâ€™s enterprise edition, so this approach increases the utilization of
    these licenses.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºäº¤æ˜“å·¥ä½œï¼ŒAgodaä¸»è¦ä½¿ç”¨è¿è¡Œåœ¨ä¸ºæ ¸å¿ƒæ€§èƒ½ä¼˜åŒ–çš„ç‰©ç†æœåŠ¡å™¨ä¸Šçš„Microsoft SQL Serverï¼ˆMSSQLï¼‰ã€‚å®ƒé€‰æ‹©äº†è¿™ç§è®¾ç½®ï¼Œå› ä¸ºå¾®è½¯çš„è®¸å¯æ¨¡å¼æœ‰ç€ç›¸å½“é«˜çš„æ¯æ ¸æˆæœ¬ã€‚SQL
    Serverä¼ä¸šç‰ˆçš„è®¸å¯æˆæœ¬çº¦ä¸ºæ¯æ ¸7000ç¾å…ƒï¼Œå› æ­¤è¿™ç§æ–¹æ³•å¢åŠ äº†è¿™äº›è®¸å¯è¯çš„åˆ©ç”¨ç‡ã€‚
- en: 3\. Agodaâ€™s cloud strategy and usage
  id: totrans-58
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 3. Agodaçš„äº‘ç­–ç•¥å’Œä½¿ç”¨
- en: The remainder of this article is a question-and-answer session between Idan
    and I. The questions are in italics.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†æ˜¯Idanå’Œæˆ‘çš„é—®ç­”ç¯èŠ‚ã€‚é—®é¢˜ä»¥æ–œä½“å½¢å¼å‡ºç°ã€‚
- en: '*Agoda not moving to the cloud is interesting as itâ€™s a â€œsiblingâ€ of Booking.com,
    which has started to move to the public cloud. So why has Agoda not done so?*'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: â€œAgodaæ²¡æœ‰è¿ç§»åˆ°äº‘ç«¯æ˜¯æœ‰è¶£çš„ï¼Œå› ä¸ºå®ƒæ˜¯Booking.comçš„â€œå§å¦¹å…¬å¸â€ï¼Œåè€…å·²ç»å¼€å§‹è¿ç§»åˆ°å…¬å…±äº‘ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆAgodaæ²¡æœ‰è¿™æ ·åšï¼Ÿâ€
- en: â€˜I canâ€™t speak for Booking.com, but in some cases I believe companies consider
    migration to the cloud as an opportunity to â€œrestartâ€ their infrastructure and
    solve existing scale/capacity issues. Our current position is that weâ€™re happy
    and quite stable in terms of capacity and performance, so we have no urgent need
    to make drastic changes to how we do things. For us, a migration for the cloud
    needs to be an opportunity and not a solution to a problem; it must show benefits
    in terms of cost, velocity, quality, etc. So far, we havenâ€™t been able to prove
    such merit in the migration.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: â€œæˆ‘ä¸èƒ½ä»£è¡¨Booking.comå‘è¡¨è¯„è®ºï¼Œä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘è®¤ä¸ºå…¬å¸è€ƒè™‘è¿ç§»åˆ°äº‘ç«¯æ˜¯ä¸€ä¸ªâ€œé‡æ–°å¯åŠ¨â€åŸºç¡€è®¾æ–½å¹¶è§£å†³ç°æœ‰è§„æ¨¡/å®¹é‡é—®é¢˜çš„æœºä¼šã€‚æˆ‘ä»¬ç›®å‰çš„ç«‹åœºæ˜¯ï¼Œæˆ‘ä»¬åœ¨å®¹é‡å’Œæ€§èƒ½æ–¹é¢éå¸¸æ»¡æ„å’Œç¨³å®šï¼Œå› æ­¤æˆ‘ä»¬æ²¡æœ‰è¿«åˆ‡éœ€è¦å¯¹æˆ‘ä»¬çš„åšäº‹æ–¹å¼è¿›è¡Œé‡å¤§æ”¹å˜ã€‚å¯¹æˆ‘ä»¬æ¥è¯´ï¼Œè¿ç§»åˆ°äº‘ç«¯éœ€è¦æ˜¯ä¸€ä¸ªæœºä¼šï¼Œè€Œä¸æ˜¯è§£å†³é—®é¢˜çš„æ–¹æ¡ˆï¼›å®ƒå¿…é¡»åœ¨æˆæœ¬ã€é€Ÿåº¦ã€è´¨é‡ç­‰æ–¹é¢æ˜¾ç¤ºå‡ºå¥½å¤„ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰èƒ½å¤Ÿè¯æ˜è¿ç§»çš„è¿™ç§ä»·å€¼ã€‚
- en: '**Our strategy is to get to a â€œcloud readyâ€ state.** We have neither a â€œyes,
    we need to be on the cloudâ€ nor a â€œno, we will not move to the cloudâ€ position.
    We want to get to the â€œwe donâ€™t really care where we operateâ€ state; this is our
    strategy. How do we get there? Firstly, we donâ€™t use expensive setup like SANs
    ([Storage Area Networks](https://en.wikipedia.org/wiki/Storage_area_network?ref=blog.pragmaticengineer.com)).
    We took a cheaper approach for our hardware stack. By moving all our workloads
    to Kubernetes, we can easily migrate to a cloud provider, if needed.'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: â€œæˆ‘ä»¬çš„ç­–ç•¥æ˜¯è¾¾åˆ°ä¸€ä¸ªâ€œäº‘å°±ç»ªâ€çŠ¶æ€ã€‚â€ æˆ‘ä»¬æ—¢æ²¡æœ‰â€œæ˜¯çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨äº‘ç«¯â€ä¹Ÿæ²¡æœ‰â€œä¸ï¼Œæˆ‘ä»¬ä¸ä¼šè¿ç§»åˆ°äº‘ç«¯â€çš„ç«‹åœºã€‚æˆ‘ä»¬å¸Œæœ›è¾¾åˆ°â€œæˆ‘ä»¬ä¸åœ¨ä¹åœ¨å“ªé‡Œæ“ä½œâ€çš„çŠ¶æ€ï¼›è¿™æ˜¯æˆ‘ä»¬çš„ç­–ç•¥ã€‚æˆ‘ä»¬å¦‚ä½•å®ç°è¿™ä¸€ç‚¹ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬ä¸ä½¿ç”¨æ˜‚è´µçš„è®¾ç½®ï¼Œæ¯”å¦‚SANï¼ˆå­˜å‚¨åŒºåŸŸç½‘ç»œï¼‰ã€‚æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„ç¡¬ä»¶å †æ ˆé‡‡å–äº†æ›´ä¾¿å®œçš„æ–¹æ³•ã€‚é€šè¿‡å°†æ‰€æœ‰å·¥ä½œè´Ÿè½½è¿ç§»åˆ°Kubernetesï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°è¿ç§»åˆ°äº‘æœåŠ¡æä¾›å•†ï¼Œå¦‚æœéœ€è¦çš„è¯ã€‚
- en: Becoming â€œcloud readyâ€ was why we moved off the HDFS protocol to S3, and why
    we are hedging our infrastructure ownership by using a few vendors in critical
    areas. For example, we use VAST as a vendor for storage, rather than self-hosted
    HDFS clusters.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: æˆä¸ºâ€œäº‘å°±ç»ªâ€æ˜¯æˆ‘ä»¬ä»HDFSåè®®è½¬ç§»åˆ°S3çš„åŸå› ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬é€šè¿‡åœ¨å…³é”®é¢†åŸŸä½¿ç”¨å‡ å®¶ä¾›åº”å•†æ¥å¯¹å†²åŸºç¡€è®¾æ–½æ‰€æœ‰æƒçš„åŸå› ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨VASTä½œä¸ºå­˜å‚¨ä¾›åº”å•†ï¼Œè€Œä¸æ˜¯è‡ªæ‰˜ç®¡çš„HDFSé›†ç¾¤ã€‚
- en: We are pretty close to our â€œcloud-readyâ€ goal. We do â€œlift and shiftâ€ exercises
    a few times every year, which is how we hedge our dependency on our on-prem infrastructure.
    Weâ€™re ready to move if some disaster were to strike when access to the infra was
    lost, for example.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: æˆ‘ä»¬ç¦»â€œäº‘å°±ç»ªâ€ç›®æ ‡ç›¸å½“è¿‘äº†ã€‚æˆ‘ä»¬æ¯å¹´è¿›è¡Œå‡ æ¬¡â€œæ¬è¿å’Œè½¬ç§»â€ç»ƒä¹ ï¼Œè¿™æ˜¯æˆ‘ä»¬å¯¹æœ¬åœ°åŸºç¡€è®¾æ–½ä¾èµ–çš„ä¸€ç§ä¿æŠ¤ã€‚å¦‚æœå‘ç”Ÿç¾éš¾å¯¼è‡´æ— æ³•è®¿é—®åŸºç¡€è®¾æ–½ï¼Œæˆ‘ä»¬å·²ç»å‡†å¤‡å¥½æ¬è¿ã€‚
- en: Thereâ€™s a lot of groundwork that goes into these exercises. We work with the
    cloud provider, set up a fiber connection with them, set up databases there, and
    do the lift-and-shift exercises. Over the years, weâ€™ve become more efficient in
    setting up the experiment. For example, initially, we set up virtual machines
    to run in the cloud and we had to have all those virtual machines running, even
    when not in use. These days, we use Kubernetes and spin up the containers when
    we do the exercise.â€™
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: è¿™äº›ç»ƒä¹ éœ€è¦åšå¾ˆå¤šåŸºç¡€å·¥ä½œã€‚æˆ‘ä»¬ä¸äº‘æœåŠ¡æä¾›å•†åˆä½œï¼Œä¸ä»–ä»¬å»ºç«‹å…‰çº¤è¿æ¥ï¼Œåœ¨é‚£é‡Œè®¾ç½®æ•°æ®åº“ï¼Œå¹¶è¿›è¡Œæ¬è¿ç»ƒä¹ ã€‚å¤šå¹´æ¥ï¼Œæˆ‘ä»¬åœ¨è®¾ç½®å®éªŒæ–¹é¢å˜å¾—æ›´åŠ é«˜æ•ˆã€‚ä¾‹å¦‚ï¼Œæœ€åˆï¼Œæˆ‘ä»¬è®¾ç½®è™šæ‹Ÿæœºåœ¨äº‘ä¸­è¿è¡Œï¼Œå³ä½¿ä¸ä½¿ç”¨ä¹Ÿå¿…é¡»è®©æ‰€æœ‰è¿™äº›è™šæ‹Ÿæœºè¿è¡Œã€‚å¦‚ä»Šï¼Œæˆ‘ä»¬ä½¿ç”¨Kubernetesï¼Œåœ¨è¿›è¡Œç»ƒä¹ æ—¶å¯åŠ¨å®¹å™¨ã€‚
- en: '*What about using the cloud to â€œscale outâ€ your operations, for example during
    peak loads?*'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: â€œå…³äºä½¿ç”¨äº‘æ¥â€œæ‰©å±•â€æ‚¨çš„è¿è¥ï¼Œä¾‹å¦‚åœ¨é«˜å³°è´Ÿè½½æœŸé—´ï¼Ÿâ€
- en: â€˜We actually looked into scaling loads out, but this turns out to be not so
    simple. Our original idea was to spin up the cloud only for peak traffic, or during
    high traffic periods. However, it turned out that providers are not particularly
    optimized to guarantee 50,000 cores being available for 2 hours usage per day.
    And this makes sense from their point of view; after all, what would they do with
    all those cores the rest of the time?
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: â€œæˆ‘ä»¬å®é™…ä¸Šç ”ç©¶äº†æ‰©å±•è´Ÿè½½ï¼Œä½†äº‹å®è¯æ˜è¿™å¹¶ä¸é‚£ä¹ˆç®€å•ã€‚æˆ‘ä»¬æœ€åˆçš„æƒ³æ³•æ˜¯ä»…åœ¨é«˜å³°æµé‡æˆ–é«˜æµé‡æ—¶æœŸä¸ºäº‘ç«¯æä¾›æœåŠ¡ã€‚ç„¶è€Œï¼Œäº‹å®è¯æ˜ä¾›åº”å•†å¹¶æ²¡æœ‰ç‰¹åˆ«ä¼˜åŒ–æ¥ä¿è¯æ¯å¤©æœ‰50,000ä¸ªæ ¸å¿ƒå¯ä¾›ä½¿ç”¨2å°æ—¶ã€‚ä»ä»–ä»¬çš„è§’åº¦æ¥çœ‹ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ï¼›æ¯•ç«Ÿï¼Œå…¶ä»–æ—¶é—´ä»–ä»¬ä¼šæ€ä¹ˆå¤„ç†æ‰€æœ‰è¿™äº›æ ¸å¿ƒå‘¢ï¼Ÿ
- en: '**There are some use cases where we do use the public cloud.** An example is
    CI/CD, which is a smaller use case, and weâ€™re okay with spending more than if
    we ran jobs on-prem. In return, we have guaranteed SLAs on how quickly builds
    will finish, regardless of how many builds happen in parallel. Having these SLAs
    means our developers can iterate quicker.'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: â€œæœ‰ä¸€äº›ç”¨ä¾‹æˆ‘ä»¬ç¡®å®ä½¿ç”¨å…¬å…±äº‘ã€‚â€ ä¸€ä¸ªä¾‹å­æ˜¯CI/CDï¼Œè¿™æ˜¯ä¸€ä¸ªè¾ƒå°çš„ç”¨ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥æ¥å—æ¯”åœ¨æœ¬åœ°è¿è¡Œä½œä¸šæ›´å¤šçš„èŠ±è´¹ã€‚ä½œä¸ºå›æŠ¥ï¼Œæˆ‘ä»¬æœ‰ä¿è¯çš„SLAï¼Œæ— è®ºæœ‰å¤šå°‘å¹¶è¡Œæ„å»ºï¼Œæ„å»ºå°†åœ¨å¤šå¿«çš„æ—¶é—´å†…å®Œæˆã€‚æœ‰äº†è¿™äº›SLAï¼Œæˆ‘ä»¬çš„å¼€å‘äººå‘˜å¯ä»¥æ›´å¿«åœ°è¿­ä»£ã€‚
- en: For massive production use cases when we would need to put in a large ask for
    a cloud provider; it would not make financial sense without a significant baseline
    budget commitment.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨å¤§è§„æ¨¡ç”Ÿäº§ç”¨ä¾‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å‘äº‘æœåŠ¡æä¾›å•†æå‡ºå¤§é‡è¦æ±‚ï¼Œè€Œæ²¡æœ‰æ˜æ˜¾çš„åŸºå‡†é¢„ç®—æ‰¿è¯ºï¼Œè¿™åœ¨è´¢åŠ¡ä¸Šæ˜¯ä¸åˆç†çš„ã€‚
- en: Even with fiber connections, itâ€™s hard to have fast enough connections from
    a service to the database. So if we want to keep our databases â€œwarmâ€ on the cloud
    at all times, that would incur a baseline cost. This cost is the latency between
    databases like our MSSQL, Couchbase, ScyllaDB and other instances, and our microservices.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: å³ä½¿æœ‰å…‰çº¤è¿æ¥ï¼Œä»æœåŠ¡åˆ°æ•°æ®åº“çš„è¿æ¥é€Ÿåº¦ä¹Ÿå¾ˆéš¾è¾¾åˆ°è¶³å¤Ÿå¿«ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å§‹ç»ˆåœ¨äº‘ä¸Šä¿æŒæ•°æ®åº“â€œçƒ­â€ï¼Œé‚£å°†äº§ç”ŸåŸºçº¿æˆæœ¬ã€‚è¿™ä¸ªæˆæœ¬æ˜¯æˆ‘ä»¬çš„MSSQLã€Couchbaseã€ScyllaDBå’Œå…¶ä»–å®ä¾‹ä¹‹é—´çš„å»¶è¿Ÿï¼Œä»¥åŠæˆ‘ä»¬çš„å¾®æœåŠ¡ä¹‹é—´çš„å»¶è¿Ÿã€‚
- en: While we *could* rebuild our systems to handle higher latency from the authoritative
    database without much user impact, the centralized cache engines would need to
    be kept â€œwarmâ€ in some way within the cloud. This baseline cost is also why we
    donâ€™t â€œburst to the cloudâ€ for production services, at present.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: è™½ç„¶æˆ‘ä»¬*å¯ä»¥*é‡å»ºæˆ‘ä»¬çš„ç³»ç»Ÿä»¥å¤„ç†æ¥è‡ªæƒå¨æ•°æ®åº“çš„æ›´é«˜å»¶è¿Ÿè€Œå‡ ä¹ä¸å½±å“ç”¨æˆ·ï¼Œä½†é›†ä¸­å¼ç¼“å­˜å¼•æ“éœ€è¦ä»¥æŸç§æ–¹å¼åœ¨äº‘ä¸­ä¿æŒâ€œçƒ­â€ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ç›®å‰ä¸ä¼šä¸ºç”Ÿäº§æœåŠ¡â€œçªå‘åˆ°äº‘ç«¯â€çš„åŸºçº¿æˆæœ¬ã€‚
- en: '**We have approaches for handling traffic spikes** without scaling to the public
    cloud. They include:'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: '**æˆ‘ä»¬æœ‰å¤„ç†æµé‡å³°å€¼çš„æ–¹æ³•**ï¼Œè€Œä¸æ˜¯æ‰©å±•åˆ°å…¬å…±äº‘ã€‚è¿™äº›æ–¹æ³•åŒ…æ‹¬ï¼š'
- en: Shifting traffic between datacenters. This works well as our data centers have
    different peak schedules in different regions.
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®ä¸­å¿ƒä¹‹é—´è½¬ç§»æµé‡ã€‚è¿™åœ¨æˆ‘ä»¬çš„æ•°æ®ä¸­å¿ƒåœ¨ä¸åŒåœ°åŒºå…·æœ‰ä¸åŒçš„é«˜å³°æ—¶é—´è¡¨æ—¶æ•ˆæœå¾ˆå¥½ã€‚
- en: Degrading features for exceptional spikes, instead of buying more servers to
    ensure we can handle any type of spike.
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: å¯¹äºå¼‚å¸¸çš„å³°å€¼ï¼Œæˆ‘ä»¬ä¼šé™çº§åŠŸèƒ½ï¼Œè€Œä¸æ˜¯è´­ä¹°æ›´å¤šæœåŠ¡å™¨æ¥ç¡®ä¿æˆ‘ä»¬å¯ä»¥å¤„ç†ä»»ä½•ç±»å‹çš„å³°å€¼ã€‚
- en: An idea for the future is that in the case of extreme spikes, we would shift
    part of this load to the data engineering DC. Currently, we do not shift load
    to the data engineering clusters during spikes.â€™
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æœªæ¥çš„ä¸€ä¸ªæƒ³æ³•æ˜¯ï¼Œåœ¨æç«¯å³°å€¼çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†éƒ¨åˆ†è´Ÿè½½è½¬ç§»åˆ°æ•°æ®å·¥ç¨‹æ•°æ®ä¸­å¿ƒã€‚ç›®å‰ï¼Œåœ¨å³°å€¼æœŸé—´æˆ‘ä»¬ä¸ä¼šå°†è´Ÿè½½è½¬ç§»åˆ°æ•°æ®å·¥ç¨‹é›†ç¾¤ã€‚
- en: 4\. The cloud or your own data centers?
  id: totrans-76
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 4\. äº‘ç«¯è¿˜æ˜¯æ‚¨è‡ªå·±çš„æ•°æ®ä¸­å¿ƒï¼Ÿ
- en: '*For small enough companies, itâ€™s pretty clear that onboarding to the cloud
    has lots of advantages. But what advice would you give a scaleup or a midsize
    company evaluating whether to operate their own data centers, or to onboard to
    the cloud?*'
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: '*å¯¹äºè§„æ¨¡è¶³å¤Ÿå°çš„å…¬å¸ï¼Œå¾ˆæ˜æ˜¾ï¼Œä¸Šäº‘æœ‰å¾ˆå¤šä¼˜åŠ¿ã€‚ä½†æ‚¨ä¼šç»™æ­£åœ¨è¯„ä¼°æ˜¯è‡ªå·±è¿è¥æ•°æ®ä¸­å¿ƒè¿˜æ˜¯ä¸Šäº‘çš„è§„æ¨¡åŒ–æˆ–ä¸­å‹å…¬å¸æå‡ºä»€ä¹ˆå»ºè®®ï¼Ÿ*'
- en: '**â€˜Use knowledge-driven decision making.** Decisions that come from ignorance
    are poor ones, such as â€œeveryone else does it, so we should as well,â€ or â€œwhat
    we have works and Iâ€™m afraid of trying this new technology.â€ On the other hand,
    decisions that come from *actual* knowledge and understanding are good decisions!
    So gather the knowledge and make sure it applies to your situation. Avoid [cargo
    culting](https://en.wikipedia.org/wiki/Cargo_cult?ref=blog.pragmaticengineer.com)
    â€“ when you imitate things you donâ€™t understand!â€™'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '**â€˜åšå‡ºåŸºäºçŸ¥è¯†çš„å†³ç­–ã€‚** ä»æ— çŸ¥è€Œæ¥çš„å†³ç­–æ˜¯ç³Ÿç³•çš„ï¼Œæ¯”å¦‚â€œå…¶ä»–äººéƒ½è¿™æ ·åšï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿåº”è¯¥è¿™æ ·åšâ€ï¼Œæˆ–è€…â€œæˆ‘ä»¬ç°åœ¨çš„ç³»ç»Ÿè¿è¡Œè‰¯å¥½ï¼Œæˆ‘å®³æ€•å°è¯•è¿™ç§æ–°æŠ€æœ¯ã€‚â€
    å¦ä¸€æ–¹é¢ï¼ŒåŸºäº*å®é™…*çŸ¥è¯†å’Œç†è§£çš„å†³ç­–æ˜¯å¥½å†³ç­–ï¼å› æ­¤ï¼Œæ”¶é›†çŸ¥è¯†å¹¶ç¡®ä¿å®ƒé€‚ç”¨äºæ‚¨çš„æƒ…å†µã€‚é¿å…[æ¨¡ä»¿](https://en.wikipedia.org/wiki/Cargo_cult?ref=blog.pragmaticengineer.com)
    - å½“æ‚¨æ¨¡ä»¿æ‚¨ä¸ç†è§£çš„äº‹ç‰©æ—¶ï¼â€™'
- en: Have the expertise and investment to operate on-prem
  id: totrans-79
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å…·å¤‡åœ¨æœ¬åœ°è¿è¥çš„ä¸“ä¸šçŸ¥è¯†å’ŒæŠ•èµ„
- en: '**â€˜Get into a position where you donâ€™t have to care too much about whether
    or not you are on the cloud.** The best position to be in is not caring about
    whether you run your own infrastructure, or onboard to the cloud. Get your application
    stack in a shape whereby you can operate in either setting. Then you can objectively
    make infrastructure changes much quicker than if youâ€™re locked in to on-prem or
    the cloud.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '**â€˜ä½¿è‡ªå·±å¤„äºä¸€ä¸ªä¸å¿…å¤ªåœ¨æ„æ˜¯å¦åœ¨äº‘ä¸Šçš„ä½ç½®ã€‚** æœ€å¥½çš„ä½ç½®æ˜¯ä¸å¿…å…³å¿ƒæ‚¨æ˜¯åœ¨è¿è¡Œè‡ªå·±çš„åŸºç¡€è®¾æ–½ï¼Œè¿˜æ˜¯ä¸Šäº‘ã€‚å°†æ‚¨çš„åº”ç”¨ç¨‹åºå †æ ˆæ•´ç†å¾—å¯ä»¥åœ¨ä»»ä½•ç¯å¢ƒä¸­è¿è¡Œã€‚ç„¶åï¼Œæ‚¨å¯ä»¥æ¯”é”å®šåœ¨æœ¬åœ°æˆ–äº‘ç«¯æ›´å¿«åœ°è¿›è¡ŒåŸºç¡€è®¾æ–½æ›´æ”¹ã€‚'
- en: Be â€œcloud-readyâ€ while running on-prem. Even if you run on-prem, ensure you
    use technology you can shift to the cloud relatively easily. For example, using
    Kubernetes as orchestration and the S3 protocol for data, are all choices we made
    in running our stack on-prem, which are also â€œcloud-readyâ€ choices.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: åœ¨æœ¬åœ°è¿è¡Œæ—¶è¦â€œäº‘å°±ç»ªâ€ã€‚å³ä½¿åœ¨æœ¬åœ°è¿è¡Œï¼Œä¹Ÿè¦ç¡®ä¿æ‚¨ä½¿ç”¨çš„æŠ€æœ¯ç›¸å¯¹å®¹æ˜“è½¬ç§»åˆ°äº‘ç«¯ã€‚ä¾‹å¦‚ï¼Œåœ¨æœ¬åœ°è¿è¡Œæˆ‘ä»¬çš„å †æ ˆæ—¶æ‰€åšçš„é€‰æ‹©ï¼Œå¦‚ä½¿ç”¨Kubernetesä½œä¸ºç¼–æ’å·¥å…·å’ŒS3åè®®ç”¨äºæ•°æ®ï¼Œéƒ½æ˜¯æˆ‘ä»¬æ‰€åšçš„â€œäº‘å°±ç»ªâ€é€‰æ‹©ã€‚
- en: '**Avoid software that locks you in**. Proprietary software can lock you into
    a given provider, making it very hard â€“ and expensive â€“ to move.'
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: '**é¿å…å°†æ‚¨é”å®šçš„è½¯ä»¶**ã€‚ä¸“æœ‰è½¯ä»¶å¯èƒ½ä¼šå°†æ‚¨é”å®šåœ¨ç‰¹å®šæä¾›å•†ï¼Œä½¿å¾—è½¬ç§»å˜å¾—éå¸¸å›°éš¾å’Œæ˜‚è´µã€‚'
- en: '**Be aware of the margins of each cloud service. Are the charges worth it for
    your use case?** The cloud is not just for getting machines to use; it includes
    an ecosystem of services as well.'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: '**äº†è§£æ¯ä¸ªäº‘æœåŠ¡çš„è¾¹é™…ã€‚è¿™äº›è´¹ç”¨æ˜¯å¦å€¼å¾—æ‚¨çš„ä½¿ç”¨æƒ…å†µï¼Ÿ** äº‘ä¸ä»…ä»…æ˜¯ä¸ºäº†è·å–æœºå™¨ä½¿ç”¨ï¼›å®ƒè¿˜åŒ…æ‹¬ä¸€ç³»åˆ—æœåŠ¡ç”Ÿæ€ç³»ç»Ÿã€‚'
- en: At least some of these services are running software that is easy to maintain
    and run and have no licensing cost. Still, the providers are still incentivized
    to â€œscareâ€ you into believing you cannot manage it by yourself. Itâ€™s important
    to make that judgment with your own team and come to a knowledgeable decision.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: è‡³å°‘ä¸€äº›æœåŠ¡æ­£åœ¨è¿è¡Œæ˜“äºç»´æŠ¤å’Œè¿è¡Œçš„è½¯ä»¶ï¼Œå¹¶ä¸”æ²¡æœ‰è®¸å¯æˆæœ¬ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¾›åº”å•†ä»ç„¶æœ‰åŠ¨æœºâ€œå“å”¬â€æ‚¨ï¼Œè®©æ‚¨ç›¸ä¿¡è‡ªå·±æ— æ³•è‡ªè¡Œç®¡ç†ã€‚é‡è¦çš„æ˜¯è¦ä¸æ‚¨è‡ªå·±çš„å›¢é˜Ÿåšå‡ºåˆ¤æ–­ï¼Œå¹¶åšå‡ºæ˜æ™ºçš„å†³å®šã€‚
- en: The focus on the expertise needed and whether you can manage it yourself, is
    a kind of fear-mongering that has been very strong in selling the cloud. In some
    cases this makes sense. For example, the US is an aggressive market where super
    talented people who know the cloud services inside-out can work for the companies
    that build those services, and great engineers often prefer to work at the â€œsource.â€
    But then, when you look at Agoda, we are pretty much the only company in Thailand
    that does anything like this so in-depth.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: å…³æ³¨æ‰€éœ€çš„ä¸“ä¸šçŸ¥è¯†ä»¥åŠæ‚¨æ˜¯å¦èƒ½è‡ªè¡Œç®¡ç†ï¼Œè¿™ç§ææƒ§è¥é”€åœ¨é”€å”®äº‘æœåŠ¡ä¸­éå¸¸å¼ºçƒˆã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™æ˜¯æœ‰é“ç†çš„ã€‚ä¾‹å¦‚ï¼Œç¾å›½æ˜¯ä¸€ä¸ªæ¿€çƒˆçš„å¸‚åœºï¼Œé‚£é‡Œæœ‰éå¸¸äº†è§£äº‘æœåŠ¡çš„è¶…çº§äººæ‰å¯ä»¥ä¸ºæ„å»ºè¿™äº›æœåŠ¡çš„å…¬å¸å·¥ä½œï¼Œè€Œä¼˜ç§€çš„å·¥ç¨‹å¸ˆé€šå¸¸æ›´æ„¿æ„åœ¨â€œæºå¤´â€å·¥ä½œã€‚ä½†æ˜¯ï¼Œå½“æ‚¨çœ‹çœ‹Agodaæ—¶ï¼Œæˆ‘ä»¬å‡ ä¹æ˜¯æ³°å›½å”¯ä¸€ä¸€å®¶åšåˆ°è¿™ä¸€ç‚¹å¦‚æ­¤æ·±å…¥çš„å…¬å¸ã€‚
- en: If Iâ€™d come to Silicon Valley to convince a talented developer to come to Thailand
    to work for Agoda, it would be hard. But for developers based in this part of
    the world, weâ€™re a shining star doing interesting, exciting and challenging stuff,
    plus weâ€™re almost the only ones going all the way down to infrastructure-level.
    In our geographical area, weâ€™re unique.â€™
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœæˆ‘å»ç¡…è°·è¯´æœä¸€ä½æ‰åæ¨ªæº¢çš„å¼€å‘è€…æ¥æ³°å›½ä¸ºAgodaå·¥ä½œï¼Œé‚£å°†æ˜¯å›°éš¾çš„ã€‚ä½†å¯¹äºè¿™ä¸ªåœ°åŒºçš„å¼€å‘è€…æ¥è¯´ï¼Œæˆ‘ä»¬æ˜¯ä¸€ä¸ªé—ªäº®çš„æ˜æ˜Ÿï¼Œåšç€æœ‰è¶£ã€æ¿€åŠ¨äººå¿ƒå’Œå…·æœ‰æŒ‘æˆ˜æ€§çš„å·¥ä½œï¼Œè€Œä¸”æˆ‘ä»¬å‡ ä¹æ˜¯å”¯ä¸€ä¸€å®¶ä¸€ç›´è‡´åŠ›äºåŸºç¡€è®¾æ–½å±‚çš„å…¬å¸ã€‚åœ¨æˆ‘ä»¬çš„åœ°ç†åŒºåŸŸï¼Œæˆ‘ä»¬æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€‚
- en: When youâ€™re already on the cloud
  id: totrans-87
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: å½“ä½ å·²ç»åœ¨äº‘ä¸Šæ—¶
- en: '**â€˜Donâ€™t let teams use whatever they want in the cloud**. Hereâ€™s the thing,
    onboarding is *always* super easy. However, offboarding can be hard to impossible!
    This type of lock-in is the biggest risk of the cloud in my view. One way to work
    around lock-in is to force the use of at least two cloud providers across the
    organization, and only allow onboarding to services on one cloud provider if they
    can be migrated to the other provider.'
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: '**â€˜ä¸è¦è®©å›¢é˜Ÿåœ¨äº‘ä¸­ä½¿ç”¨ä»–ä»¬æƒ³è¦çš„ä»»ä½•ä¸œè¥¿**ã€‚è¿™é‡Œçš„é—®é¢˜æ˜¯ï¼Œå…¥èŒæ€»æ˜¯éå¸¸å®¹æ˜“çš„ã€‚ç„¶è€Œï¼Œç¦»èŒå¯èƒ½ä¼šå¾ˆå›°éš¾ç”šè‡³ä¸å¯èƒ½ï¼åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ç§é”å®šæ˜¯äº‘çš„æœ€å¤§é£é™©ã€‚è§£å†³é”å®šçš„ä¸€ç§æ–¹æ³•æ˜¯å¼ºåˆ¶ç»„ç»‡ä¸­è‡³å°‘ä½¿ç”¨ä¸¤ä¸ªäº‘æœåŠ¡æä¾›å•†ï¼Œå¹¶ä¸”åªå…è®¸å°†æœåŠ¡æ¥å…¥åˆ°ä¸€ä¸ªäº‘æœåŠ¡æä¾›å•†ï¼Œå¦‚æœå®ƒä»¬å¯ä»¥è¿ç§»åˆ°å¦ä¸€ä¸ªæä¾›å•†ã€‚'
- en: '**Be conservative about adding new technology dependencies.** Donâ€™t add one
    unless it *really* adds a new capability you cannot support in your current stack.
    In other words, donâ€™t increase the stack size itself unless you really have no
    choice!'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºæ·»åŠ æ–°æŠ€æœ¯ä¾èµ–è¦ä¿å®ˆã€‚é™¤éå®ƒçœŸçš„å¢åŠ äº†ä½ å½“å‰æŠ€æœ¯æ ˆæ— æ³•æ”¯æŒçš„æ–°åŠŸèƒ½ï¼Œå¦åˆ™ä¸è¦æ·»åŠ ã€‚æ¢å¥è¯è¯´ï¼Œé™¤éä½ çœŸçš„åˆ«æ— é€‰æ‹©ï¼Œå¦åˆ™ä¸è¦å¢åŠ æŠ€æœ¯æ ˆçš„å¤§å°ï¼
- en: The same goes for taking on cloud service dependencies. Iâ€™ve seen a *lot* of
    cloud services be acquired, or suddenly pivot, or be shut down. When this happens,
    if you have a dependency on such a service, you are left with an â€œultimatumâ€ of
    needing to find a new solution, and you start from scratch in the search. This
    is a very real risk thatâ€™s worth calculating.â€™
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: å¯¹äºä½¿ç”¨äº‘æœåŠ¡ä¾èµ–ä¹Ÿæ˜¯ä¸€æ ·ã€‚æˆ‘è§è¿‡å¾ˆå¤šäº‘æœåŠ¡è¢«æ”¶è´­ã€çªç„¶è½¬å‘æˆ–å…³é—­çš„æƒ…å†µã€‚å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œå¦‚æœä½ å¯¹è¿™æ ·çš„æœåŠ¡æœ‰ä¾èµ–ï¼Œä½ å°±ä¼šé¢ä¸´ä¸€ä¸ªâ€œæœ€åé€šç‰’â€ï¼Œéœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ–°çš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶ä¸”ä½ éœ€è¦ä»å¤´å¼€å§‹æœç´¢ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸çœŸå®çš„é£é™©ï¼Œå€¼å¾—è®¡ç®—ã€‚
- en: Takeaways
  id: totrans-91
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: è¦ç‚¹
- en: Thanks very much to [Idan](https://www.linkedin.com/in/idan-zalzberg-a2300013?ref=blog.pragmaticengineer.com)
    for generously sharing so much detail about Agodaâ€™s journey in operating on-prem,
    and its thinking about using the cloud. *Although Idan did not ask me to mention
    this, I will add that Agoda* [*is hiring*](https://careersatagoda.com/?ref=blog.pragmaticengineer.com)
    *in several locations across Asia.*
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: éå¸¸æ„Ÿè°¢[Idan](https://www.linkedin.com/in/idan-zalzberg-a2300013?ref=blog.pragmaticengineer.com)æ…·æ…¨åœ°åˆ†äº«äº†Agodaåœ¨è¿è¥æœ¬åœ°å’Œä½¿ç”¨äº‘çš„è¿‡ç¨‹ä¸­çš„è®¸å¤šç»†èŠ‚ã€‚*å°½ç®¡Idanæ²¡æœ‰è¦æ±‚æˆ‘æåŠè¿™ä¸€ç‚¹ï¼Œæˆ‘ä¼šè¡¥å……è¯´Agoda*
    [*æ­£åœ¨äºšæ´²å¤šä¸ªåœ°ç‚¹æ‹›è˜*](https://careersatagoda.com/?ref=blog.pragmaticengineer.com)ã€‚
- en: Here are few takeaways worth taking from Agodaâ€™s journey, especially as we contrast
    it to [that of Uberâ€™s](https://newsletter.pragmaticengineer.com/p/uber-move-to-cloud?ref=blog.pragmaticengineer.com).
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸‹æ˜¯ä»Agodaçš„æ—…ç¨‹ä¸­å­¦åˆ°çš„ä¸€äº›å€¼å¾—æ³¨æ„çš„åœ°æ–¹ï¼Œç‰¹åˆ«æ˜¯ä¸[Uberçš„æ—…ç¨‹](https://newsletter.pragmaticengineer.com/p/uber-move-to-cloud?ref=blog.pragmaticengineer.com)è¿›è¡Œå¯¹æ¯”ã€‚
- en: '**Every business has unique constraints**. Agoda operates in Asia, where the
    cost of labor is lower than the US and Europe, but where public cloud costs are
    higher. The company has been in business for almost 20 years and has always managed
    its own infrastructure.'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ¯å®¶ä¼ä¸šéƒ½æœ‰ç‹¬ç‰¹çš„é™åˆ¶**ã€‚Agodaåœ¨äºšæ´²è¿è¥ï¼ŒåŠ³åŠ¨åŠ›æˆæœ¬ä½äºç¾å›½å’Œæ¬§æ´²ï¼Œä½†å…¬å…±äº‘æˆæœ¬æ›´é«˜ã€‚è¯¥å…¬å¸å·²ç»ç»è¥äº†è¿‘20å¹´ï¼Œå¹¶ä¸”ä¸€ç›´ç®¡ç†è‡ªå·±çš„åŸºç¡€è®¾æ–½ã€‚'
- en: 'It has hardware buyers, people installing and maintaining machines, and folks
    building the software infrastructure layer to run on top of virtual machines.
    Agoda employs tens of people to manage the infrastructure layer, and probably
    around 100 people who work on various parts of infrastructure and DevOps. Hereâ€™s
    a breakdown of employee numbers from Idan:'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: å®ƒæœ‰ç¡¬ä»¶é‡‡è´­å‘˜ï¼Œå®‰è£…å’Œç»´æŠ¤æœºå™¨çš„äººå‘˜ï¼Œä»¥åŠæ„å»ºè½¯ä»¶åŸºç¡€è®¾æ–½å±‚ä»¥åœ¨è™šæ‹Ÿæœºä¸Šè¿è¡Œçš„äººå‘˜ã€‚Agodaé›‡ä½£äº†æ•°åäººæ¥ç®¡ç†åŸºç¡€è®¾æ–½å±‚ï¼Œå¹¶ä¸”å¤§çº¦æœ‰100äººåœ¨åŸºç¡€è®¾æ–½å’ŒDevOpsçš„å„ä¸ªéƒ¨åˆ†å·¥ä½œã€‚ä»¥ä¸‹æ˜¯Idanæä¾›çš„å‘˜å·¥äººæ•°çš„ç»†åˆ†ï¼š
- en: Tens of people (between 10 and 30) maintaining hardware
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»´æŠ¤ç¡¬ä»¶çš„äººæ•°åœ¨10åˆ°30äººä¹‹é—´
- en: 25-30 people maintaining data infrastructure like Kafka or RabbitMQ.
  id: totrans-97
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ç»´æŠ¤Kafkaæˆ–RabbitMQç­‰æ•°æ®åŸºç¡€è®¾æ–½çš„25-30äººã€‚
- en: 20-30 people working in the database administration area
  id: totrans-98
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: åœ¨æ•°æ®åº“ç®¡ç†é¢†åŸŸå·¥ä½œçš„20-30äºº
- en: The teams who build and maintain solutions like Fleet
  id: totrans-99
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: æ„å»ºå’Œç»´æŠ¤ç±»ä¼¼Fleetè§£å†³æ–¹æ¡ˆçš„å›¢é˜Ÿ
- en: If your company is in a similar position in terms of infra needs, and engineering
    headcount; and has made similar investments in infrastructure, then you might
    also be able to set up and operate your own infrastructure. If not, it doesnâ€™t
    mean you cannot! Treat all details in this article as examples of approaches,
    not instructions which your company should closely follow.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: å¦‚æœä½ çš„å…¬å¸åœ¨åŸºç¡€è®¾æ–½éœ€æ±‚å’Œå·¥ç¨‹äººå‘˜æ•°é‡æ–¹é¢å¤„äºç±»ä¼¼çš„ä½ç½®ï¼Œå¹¶ä¸”å·²ç»å¯¹åŸºç¡€è®¾æ–½è¿›è¡Œäº†ç±»ä¼¼çš„æŠ•èµ„ï¼Œé‚£ä¹ˆä½ å¯èƒ½ä¹Ÿèƒ½å¤Ÿå»ºç«‹å’Œè¿è¥è‡ªå·±çš„åŸºç¡€è®¾æ–½ã€‚å¦‚æœä¸æ˜¯ï¼Œä¹Ÿä¸æ„å‘³ç€ä½ ä¸èƒ½ï¼å°†æœ¬æ–‡ä¸­çš„æ‰€æœ‰ç»†èŠ‚è§†ä¸ºæ–¹æ³•çš„ç¤ºä¾‹ï¼Œè€Œä¸æ˜¯ä½ çš„å…¬å¸åº”è¯¥ä¸¥æ ¼é¹å¾ªçš„æŒ‡å¯¼ã€‚
- en: '* * *'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: 'The above was about a third of the topics discussed in two subscriber-only
    deepdive articles about Agodaâ€™s private data centers. [The full article series](https://newsletter.pragmaticengineer.com/p/inside-agodas-private-cloud?ref=blog.pragmaticengineer.com)
    covers these additional topics:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: ä»¥ä¸Šæ˜¯å…³äºAgodaç§æœ‰æ•°æ®ä¸­å¿ƒçš„ä¸¤ç¯‡ä»…é™è®¢é˜…è€…çš„æ·±åº¦æ–‡ç« ä¸­è®¨è®ºçš„å¤§çº¦ä¸‰åˆ†ä¹‹ä¸€çš„ä¸»é¢˜ã€‚[å®Œæ•´çš„æ–‡ç« ç³»åˆ—](https://newsletter.pragmaticengineer.com/p/inside-agodas-private-cloud?ref=blog.pragmaticengineer.com)æ¶µç›–äº†ä»¥ä¸‹é¢å¤–ä¸»é¢˜ï¼š
- en: '**Internet service provider (ISP) basics.** What are tier 1, 2 and 3 ISPs?
    Why does it matter? And why does Agoda connect to a Tier 1 one?'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**äº’è”ç½‘æœåŠ¡æä¾›å•†ï¼ˆISPï¼‰åŸºç¡€çŸ¥è¯†ã€‚** ä»€ä¹ˆæ˜¯ä¸€çº§ã€äºŒçº§å’Œä¸‰çº§ISPï¼Ÿä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿä¸ºä»€ä¹ˆAgodaè¦è¿æ¥åˆ°ä¸€çº§ISPï¼Ÿ'
- en: '**Data center tiering.** How tiers 1-4 for data centers measure up, and which
    tiers do popular cloud providers certify as? Why does Agoda co-locate with Tier
    3-or-above?'
  id: totrans-104
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ•°æ®ä¸­å¿ƒåˆ†çº§ã€‚** æ•°æ®ä¸­å¿ƒçš„1-4çº§å¦‚ä½•è¡¡é‡ï¼Œæµè¡Œçš„äº‘æœåŠ¡æä¾›å•†è®¤è¯ä¸ºå“ªäº›çº§åˆ«ï¼Ÿä¸ºä»€ä¹ˆAgodaè¦ä¸ä¸‰çº§æˆ–ä»¥ä¸Šçš„æ•°æ®ä¸­å¿ƒå…±åŒä½¿ç”¨ï¼Ÿ'
- en: '**The evolution of data centers at Agoda**. From blade servers and Windows
    machines in 2012, to an in-house, Kubernetes-based orchestrator development system
    today.'
  id: totrans-105
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Agodaæ•°æ®ä¸­å¿ƒçš„æ¼”å˜**ã€‚ä»2012å¹´çš„åˆ€ç‰‡æœåŠ¡å™¨å’ŒWindowsæœºå™¨ï¼Œåˆ°å¦‚ä»ŠåŸºäºKubernetesçš„å†…éƒ¨ç¼–æ’å™¨å¼€å‘ç³»ç»Ÿã€‚'
- en: '**Data centers (DCs) and availability zones.** How does the company organize
    its two regions, and which services use active-active or active-passive DC setups?'
  id: totrans-106
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**æ•°æ®ä¸­å¿ƒï¼ˆDCsï¼‰å’Œå¯ç”¨æ€§åŒºåŸŸã€‚** å…¬å¸å¦‚ä½•ç»„ç»‡å…¶ä¸¤ä¸ªåœ°åŒºï¼Œå“ªäº›æœåŠ¡ä½¿ç”¨ä¸»åŠ¨-ä¸»åŠ¨æˆ–ä¸»åŠ¨-è¢«åŠ¨çš„DCè®¾ç½®ï¼Ÿ'
- en: '**The application stack inside the private cloud.** Fleet, Buckbeak, Agodaâ€™s
    detailed data stack and bespoke developer portal.'
  id: totrans-107
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**ç§æœ‰äº‘ä¸­çš„åº”ç”¨ç¨‹åºå †æ ˆã€‚** Fleetï¼ŒBuckbeakï¼ŒAgodaçš„è¯¦ç»†æ•°æ®å †æ ˆå’Œå®šåˆ¶å¼€å‘è€…é—¨æˆ·ã€‚'
- en: '**To move or not to move to the cloud.** How Agoda knows if itâ€™s time to move
    away from on-prem servers. Are location-based expenses keeping the company off
    public clouds?'
  id: totrans-108
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**è¿ç§»åˆ°äº‘ç«¯è¿˜æ˜¯ä¸è¿ç§»åˆ°äº‘ç«¯ã€‚** Agodaå¦‚ä½•çŸ¥é“æ˜¯æ—¶å€™è¿œç¦»æœ¬åœ°æœåŠ¡å™¨äº†ã€‚åŸºäºä½ç½®çš„è´¹ç”¨æ˜¯å¦è®©å…¬å¸è¿œç¦»å…¬å…±äº‘ï¼Ÿ'
- en: '**A surprise advantage of hiring software engineers**. Owning their own stack
    end-to-end comes with unexpected hiring benefits, when attracting developers.'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**é›‡ä½£è½¯ä»¶å·¥ç¨‹å¸ˆçš„ä¸€ä¸ªæ„å¤–ä¼˜åŠ¿**ã€‚æ‹¥æœ‰ç«¯åˆ°ç«¯çš„è‡ªæœ‰å †æ ˆå¸¦æ¥æ„æƒ³ä¸åˆ°çš„æ‹›è˜ä¼˜åŠ¿ï¼Œå¸å¼•å¼€å‘äººå‘˜ã€‚'
- en: '**Agodaâ€™s learnings from operating its own DCs.** The importance of standardizing,
    and why to minimize your tech stack.'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: '**Agodaä»è¿è¥è‡ªå·±çš„DCä¸­å­¦åˆ°çš„ç»éªŒã€‚** æ ‡å‡†åŒ–çš„é‡è¦æ€§ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦å°½é‡å‡å°‘æŠ€æœ¯å †æ ˆã€‚'
- en: '[Read the full article series here](https://newsletter.pragmaticengineer.com/p/inside-agodas-private-cloud?ref=blog.pragmaticengineer.com).'
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: '[åœ¨æ­¤é˜…è¯»å®Œæ•´æ–‡ç« ç³»åˆ—](https://newsletter.pragmaticengineer.com/p/inside-agodas-private-cloud?ref=blog.pragmaticengineer.com)ã€‚'
- en: '* * *'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '* * *'
- en: Featured Pragmatic Engineer Jobs
  id: totrans-113
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: ç²¾é€‰Pragmatic EngineerèŒä½
- en: '*The above jobs score at least 10/12 on [The Pragmatic Engineer Test](https://blog.pragmaticengineer.com/pragmatic-engineer-test/).
    Browse more senior engineer and engineering leadership roles with great engineering
    cultures, or add your own on [The Pragmatic Engineer Job board](https://pallet.xyz/list/pragmatic-engineer/jobs)
    and apply to join [The Pragmatic Engineer Talent Collective](https://pragmatic-engineer.pallet.com/talent).*'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: '*ä»¥ä¸Šå·¥ä½œè‡³å°‘åœ¨[The Pragmatic Engineer Test](https://blog.pragmaticengineer.com/pragmatic-engineer-test/)ä¸­å¾—åˆ†ä¸º10/12ã€‚æµè§ˆæ›´å¤šæ‹¥æœ‰å‡ºè‰²å·¥ç¨‹æ–‡åŒ–çš„é«˜çº§å·¥ç¨‹å¸ˆå’Œå·¥ç¨‹é¢†å¯¼èŒä½ï¼Œæˆ–åœ¨[The
    Pragmatic Engineer Job board](https://pallet.xyz/list/pragmatic-engineer/jobs)ä¸Šæ·»åŠ æ‚¨è‡ªå·±çš„èŒä½ï¼Œå¹¶ç”³è¯·åŠ å…¥[The
    Pragmatic Engineer Talent Collective](https://pragmatic-engineer.pallet.com/talent)ã€‚*'
- en: '**Want to get interesting opportunities from vetted tech companies?** Sign
    up to [The Pragmatic Engineer Talent Collective](https://pragmatic-engineer.pallet.com/talent)
    and get sent great opportunities - similar to the ones below without any obligation.
    You can be public or anonymous, and Iâ€™ll be curating the list of companies and
    people.'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: '**æƒ³è¦ä»ç»è¿‡å®¡æ ¸çš„ç§‘æŠ€å…¬å¸è·å¾—æœ‰è¶£çš„æœºä¼šå—ï¼Ÿ** æ³¨å†Œ[The Pragmatic Engineer Talent Collective](https://pragmatic-engineer.pallet.com/talent)
    å¹¶è·å¾—ä¼Ÿå¤§çš„æœºä¼š - ä¸ä¸‹é¢çš„æœºä¼šç±»ä¼¼ï¼Œæ²¡æœ‰ä»»ä½•ä¹‰åŠ¡ã€‚æ‚¨å¯ä»¥é€‰æ‹©å…¬å¼€æˆ–åŒ¿åï¼Œæˆ‘å°†ç²¾é€‰å…¬å¸å’Œäººå‘˜åå•ã€‚'
- en: '**Are you hiring senior+ engineers or engineering managers?** Apply to join
    [The Pragmatic Engineer Talent Collective](https://pragmatic-engineer.pallet.com/talent)
    to contact world-class senior and above engineers and engineering managers/directors.
    Get vetted drops twice a month, from software engineers - full-stack, backend,
    mobile, frontend, data, ML - and managers currently working at Big Tech, high-growth
    startups, and places with strong engineering cultures. [Apply here](https://pragmatic-engineer.pallet.com/talent).'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: '**æ‚¨æ˜¯å¦åœ¨æ‹›è˜é«˜çº§å·¥ç¨‹å¸ˆæˆ–å·¥ç¨‹ç»ç†ï¼Ÿ** ç”³è¯·åŠ å…¥[The Pragmatic Engineer Talent Collective](https://pragmatic-engineer.pallet.com/talent)
    ä¸ä¸–ç•Œä¸€æµçš„é«˜çº§å·¥ç¨‹å¸ˆå’Œå·¥ç¨‹ç»ç†/æ€»ç›‘è”ç³»ã€‚æ¯æœˆä¸¤æ¬¡è·å¾—ç»è¿‡å®¡æ ¸çš„æŠ•é€’ï¼Œæ¥è‡ªç›®å‰åœ¨å¤§å‹ç§‘æŠ€å…¬å¸ã€é«˜å¢é•¿åˆåˆ›å…¬å¸å’Œæ‹¥æœ‰å¼ºå¤§å·¥ç¨‹æ–‡åŒ–çš„åœ°æ–¹å·¥ä½œçš„è½¯ä»¶å·¥ç¨‹å¸ˆ -
    å…¨æ ˆã€åç«¯ã€ç§»åŠ¨ç«¯ã€å‰ç«¯ã€æ•°æ®ã€æœºå™¨å­¦ä¹ å’Œç»ç†ã€‚[åœ¨è¿™é‡Œç”³è¯·](https://pragmatic-engineer.pallet.com/talent)ã€‚'
